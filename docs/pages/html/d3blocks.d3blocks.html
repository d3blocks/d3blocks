

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>API References &mdash; d3blocks d3blocks documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="_static/css/custom.css?v=e0179649" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=6837f5c9"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Coding quality" href="Coding%20quality.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            d3blocks
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
    
              <p class="caption" role="heading"><span class="caption-text">Motivation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Motivation.html">Summary</a></li>
<li class="toctree-l1"><a class="reference internal" href="Motivation.html#why-bother-using-d3-js">Why bother usingÂ D3.js?</a></li>
<li class="toctree-l1"><a class="reference internal" href="Motivation.html#d3-motivation">D3 Motivation</a></li>
<li class="toctree-l1"><a class="reference internal" href="Motivation.html#d3-charts">D3 charts</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Installation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Installation.html">Install from Pypi (pip)</a></li>
<li class="toctree-l1"><a class="reference internal" href="Installation.html#install-from-github">Install from github</a></li>
<li class="toctree-l1"><a class="reference internal" href="Installation.html#create-environment">Create environment</a></li>
<li class="toctree-l1"><a class="reference internal" href="Installation.html#uninstall">Uninstall</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Blocks</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Timeseries.html">Timeseries</a></li>
<li class="toctree-l1"><a class="reference internal" href="Chord.html">Chord</a></li>
<li class="toctree-l1"><a class="reference internal" href="d3graph.html">D3graph</a></li>
<li class="toctree-l1"><a class="reference internal" href="elasticgraph.html">Elasticgraph</a></li>
<li class="toctree-l1"><a class="reference internal" href="Sankey.html">Sankey</a></li>
<li class="toctree-l1"><a class="reference internal" href="Heatmap.html">Heatmap</a></li>
<li class="toctree-l1"><a class="reference internal" href="Matrix.html">Matrix</a></li>
<li class="toctree-l1"><a class="reference internal" href="MovingBubbles.html">MovingBubbles</a></li>
<li class="toctree-l1"><a class="reference internal" href="Imageslider.html">Imageslider</a></li>
<li class="toctree-l1"><a class="reference internal" href="Scatter.html">Scatter</a></li>
<li class="toctree-l1"><a class="reference internal" href="Violin.html">Violin</a></li>
<li class="toctree-l1"><a class="reference internal" href="Particles.html">Particles</a></li>
<li class="toctree-l1"><a class="reference internal" href="Treemap.html">Treemap</a></li>
<li class="toctree-l1"><a class="reference internal" href="Tree.html">Tree</a></li>
<li class="toctree-l1"><a class="reference internal" href="Circlepacking.html">circlepacking</a></li>
<li class="toctree-l1"><a class="reference internal" href="Maps.html">Maps</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Helper functions</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="helper_functions.html">Export to HTML</a></li>
<li class="toctree-l1"><a class="reference internal" href="helper_functions.html#module-d3blocks.D3Blocks.vec2adjmat">vec2adjmat</a></li>
<li class="toctree-l1"><a class="reference internal" href="helper_functions.html#module-d3blocks.D3Blocks.adjmat2vec">adjmat2vec</a></li>
<li class="toctree-l1"><a class="reference internal" href="helper_functions.html#module-d3blocks.D3Blocks.import_example">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="helper_functions.html#saving-charts">Saving Charts</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Documentation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="Documentation.html">Sponsor</a></li>
<li class="toctree-l1"><a class="reference internal" href="Documentation.html#medium-blog">Medium Blog</a></li>
<li class="toctree-l1"><a class="reference internal" href="Documentation.html#github">Github</a></li>
<li class="toctree-l1"><a class="reference internal" href="Documentation.html#colab-notebook">Colab Notebook</a></li>
<li class="toctree-l1"><a class="reference internal" href="Coding%20quality.html">Coding quality</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">API References</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#d3blocks.d3blocks.D3Blocks"><code class="docutils literal notranslate"><span class="pre">D3Blocks</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#d3blocks.d3blocks.D3Blocks.adjmat2vec"><code class="docutils literal notranslate"><span class="pre">D3Blocks.adjmat2vec()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#d3blocks.d3blocks.D3Blocks.chord"><code class="docutils literal notranslate"><span class="pre">D3Blocks.chord()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#d3blocks.d3blocks.D3Blocks.circlepacking"><code class="docutils literal notranslate"><span class="pre">D3Blocks.circlepacking()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#d3blocks.d3blocks.D3Blocks.d3graph"><code class="docutils literal notranslate"><span class="pre">D3Blocks.d3graph()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#d3blocks.d3blocks.D3Blocks.display"><code class="docutils literal notranslate"><span class="pre">D3Blocks.display()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#d3blocks.d3blocks.D3Blocks.elasticgraph"><code class="docutils literal notranslate"><span class="pre">D3Blocks.elasticgraph()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#d3blocks.d3blocks.D3Blocks.heatmap"><code class="docutils literal notranslate"><span class="pre">D3Blocks.heatmap()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#d3blocks.d3blocks.D3Blocks.imageslider"><code class="docutils literal notranslate"><span class="pre">D3Blocks.imageslider()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#d3blocks.d3blocks.D3Blocks.import_example"><code class="docutils literal notranslate"><span class="pre">D3Blocks.import_example()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#d3blocks.d3blocks.D3Blocks.maps"><code class="docutils literal notranslate"><span class="pre">D3Blocks.maps()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#d3blocks.d3blocks.D3Blocks.matrix"><code class="docutils literal notranslate"><span class="pre">D3Blocks.matrix()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#d3blocks.d3blocks.D3Blocks.movingbubbles"><code class="docutils literal notranslate"><span class="pre">D3Blocks.movingbubbles()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#d3blocks.d3blocks.D3Blocks.open_browser"><code class="docutils literal notranslate"><span class="pre">D3Blocks.open_browser()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#d3blocks.d3blocks.D3Blocks.particles"><code class="docutils literal notranslate"><span class="pre">D3Blocks.particles()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#d3blocks.d3blocks.D3Blocks.sankey"><code class="docutils literal notranslate"><span class="pre">D3Blocks.sankey()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#d3blocks.d3blocks.D3Blocks.scatter"><code class="docutils literal notranslate"><span class="pre">D3Blocks.scatter()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#d3blocks.d3blocks.D3Blocks.set_config"><code class="docutils literal notranslate"><span class="pre">D3Blocks.set_config()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#d3blocks.d3blocks.D3Blocks.set_edge_properties"><code class="docutils literal notranslate"><span class="pre">D3Blocks.set_edge_properties()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#d3blocks.d3blocks.D3Blocks.set_node_properties"><code class="docutils literal notranslate"><span class="pre">D3Blocks.set_node_properties()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#d3blocks.d3blocks.D3Blocks.show"><code class="docutils literal notranslate"><span class="pre">D3Blocks.show()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#d3blocks.d3blocks.D3Blocks.timeseries"><code class="docutils literal notranslate"><span class="pre">D3Blocks.timeseries()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#d3blocks.d3blocks.D3Blocks.tree"><code class="docutils literal notranslate"><span class="pre">D3Blocks.tree()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#d3blocks.d3blocks.D3Blocks.treemap"><code class="docutils literal notranslate"><span class="pre">D3Blocks.treemap()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#d3blocks.d3blocks.D3Blocks.vec2adjmat"><code class="docutils literal notranslate"><span class="pre">D3Blocks.vec2adjmat()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#d3blocks.d3blocks.D3Blocks.violin"><code class="docutils literal notranslate"><span class="pre">D3Blocks.violin()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#d3blocks.d3blocks.disable_tqdm"><code class="docutils literal notranslate"><span class="pre">disable_tqdm()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#d3blocks.d3blocks.get_logger"><code class="docutils literal notranslate"><span class="pre">get_logger()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#d3blocks.d3blocks.random_date"><code class="docutils literal notranslate"><span class="pre">random_date()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#d3blocks.d3blocks.set_chart_func"><code class="docutils literal notranslate"><span class="pre">set_chart_func()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#d3blocks.d3blocks.set_logger"><code class="docutils literal notranslate"><span class="pre">set_logger()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#d3blocks.d3blocks.str_time_prop"><code class="docutils literal notranslate"><span class="pre">str_time_prop()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#d3blocks.d3blocks.unzip"><code class="docutils literal notranslate"><span class="pre">unzip()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#d3blocks.d3blocks.wget"><code class="docutils literal notranslate"><span class="pre">wget()</span></code></a></li>
</ul>
</li>
</ul>

    <a href= "genindex.html">Index</a>
  
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">d3blocks</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">API References</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/d3blocks.d3blocks.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-d3blocks.d3blocks">
<span id="api-references"></span><h1>API References<a class="headerlink" href="#module-d3blocks.d3blocks" title="Link to this heading">ï</a></h1>
<p>d3blocks library.</p>
<dl class="py class">
<dt class="sig sig-object py" id="d3blocks.d3blocks.D3Blocks">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">d3blocks.d3blocks.</span></span><span class="sig-name descname"><span class="pre">D3Blocks</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">chart:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frame:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose:</span> <span class="pre">(&lt;class</span> <span class="pre">'int'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">&lt;class</span> <span class="pre">'str'&gt;)</span> <span class="pre">=</span> <span class="pre">'info'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">support:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">'text'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#d3blocks.d3blocks.D3Blocks" title="Link to this definition">ï</a></dt>
<dd><p>D3Blocks.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>frame</strong> (<em>Bool</em><em>, </em><em>(</em><em>default: True</em><em>)</em>) â True: Return in DataFrame.
False: Return in dictionary.</p></li>
<li><p><strong>verbose</strong> (<em>int</em><em>, </em><em>optional</em>) â Verbose message. The default is 20.</p></li>
<li><p><strong>support</strong> (<em>String</em><em>, </em><em>(</em><em>default: True</em><em>)</em>) â This library is free of use and lets keep it this way! Support the project and set it to True.
* True: I support this project! It is even better when you occasionally click on the ethical add.
* âtextâ: I support this project with a text add.
* âimageâ: I support this project with an image add.
* False: I want to support in a different manner: <a class="reference external" href="https://d3blocks.github.io/d3blocks/pages/html/Documentation.html">https://d3blocks.github.io/d3blocks/pages/html/Documentation.html</a></p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None.</p>
</dd>
</dl>
<p class="rubric">References</p>
<ul class="simple">
<li><p>Github : <a class="reference external" href="https://github.com/d3blocks/d3blocks">https://github.com/d3blocks/d3blocks</a></p></li>
<li><p>Docs: <a class="reference external" href="https://d3blocks.github.io/d3blocks/">https://d3blocks.github.io/d3blocks/</a></p></li>
<li><p>Blogs: <a class="reference external" href="https://erdogant.medium.com">https://erdogant.medium.com</a></p></li>
</ul>
<dl class="py method">
<dt class="sig sig-object py" id="d3blocks.d3blocks.D3Blocks.adjmat2vec">
<em class="property"><span class="k"><span class="pre">static</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">adjmat2vec</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_weight</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#d3blocks.d3blocks.D3Blocks.adjmat2vec" title="Link to this definition">ï</a></dt>
<dd><p>Convert adjacency matrix into vector with source and target.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>adjmat</strong> (<em>pd.DataFrame</em><em>(</em><em>)</em>) â Adjacency matrix.</p></li>
<li><p><strong>min_weight</strong> (<em>float</em>) â edges are returned with a minimum weight.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>nodes that are connected based on source and target</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame()</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Initialize</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span> <span class="o">=</span> <span class="n">D3Blocks</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Load example</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">d3</span><span class="o">.</span><span class="n">import_example</span><span class="p">(</span><span class="s1">&#39;energy&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Convert</span> <span class="n">into</span> <span class="n">adjmat</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">adjmat</span> <span class="o">=</span> <span class="n">d3</span><span class="o">.</span><span class="n">vec2adjmat</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;source&#39;</span><span class="p">],</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;target&#39;</span><span class="p">],</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;weight&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Convert back to vector</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vector</span> <span class="o">=</span> <span class="n">d3</span><span class="o">.</span><span class="n">adjmat2vec</span><span class="p">(</span><span class="n">adjmat</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="d3blocks.d3blocks.D3Blocks.chord">
<span class="sig-name descname"><span class="pre">chord</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'source'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">opacity</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'source'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ordering</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'ascending'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fontsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">arrowhead</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cmap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'tab20'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Chord</span> <span class="pre">-</span> <span class="pre">D3blocks'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filepath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'chord.html'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[900,</span> <span class="pre">900]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">showfig</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">notebook</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_button</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">margin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">150</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text_offset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_html</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reset_properties</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#d3blocks.d3blocks.D3Blocks.chord" title="Link to this definition">ï</a></dt>
<dd><p>Chord block.</p>
<p>A chord represents flows or connections between several entities or nodes.
Each entity is represented by a fragment on the outer part of the circular layout.
Then, arcs are drawn between each entity. The size of the arc is proportional to the importance of the flow.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pd.DataFrame</em><em>(</em><em>)</em>) â <dl class="simple">
<dt>Input data containing the following columns:</dt><dd><ul>
<li><p>âsourceâ</p></li>
<li><p>âtargetâ</p></li>
<li><p>âweightâ</p></li>
<li><p>âcolorâ (optional)</p></li>
<li><p>âopacityâ (optional)</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>color</strong> (<em>(</em><em>default: 'source'</em><em>)</em>) â <dl class="simple">
<dt>Link colors in Hex notation. Should be the same size as input DataFrame.</dt><dd><ul>
<li><p>âsourceâ : Color edges/links similar to that of source-color node.</p></li>
<li><p>âtargetâ : Color edges/links similar to that of target-color node.</p></li>
<li><p>âsource-targetâ : Color edges/link based on unique source-target edges using the colormap.</p></li>
<li><p>â#ffffffâ : All links have the same hex color.</p></li>
<li><p>[â#000000â, â#ffffffâ,â¦] : Define per link.</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>opacity</strong> (<em>(</em><em>default: 'source'</em><em>)</em>) â <dl class="simple">
<dt>Link Opacity. Should be the same size as input DataFrame.</dt><dd><ul>
<li><p>âsourceâ: Opacity of edges/links similar to that of source-opacity node.</p></li>
<li><p>âtargetâ: Opacity of edges/links similar to that of target-opacity node.</p></li>
<li><p>0.8: All links have the same opacity.</p></li>
<li><p>[0.1, 0.75,â¦]: Set opacity per edge/link.</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>ordering</strong> (<em>(</em><em>default: 'ascending'</em><em>)</em>) â <dl class="simple">
<dt>Sort the labels.</dt><dd><ul>
<li><p>âascendingâ</p></li>
<li><p>âdescendingâ</p></li>
<li><p>ââ: Do not sort</p></li>
<li><p>[âlabel1â, âlabel2â, âlabel3â]: Custom sort. Note that all labels shoul be included only once for the best result.</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>fontsize</strong> (<em>int</em><em>, </em><em>(</em><em>default: 8</em><em>)</em>) â The Fontsize.</p></li>
<li><p><strong>arrowhead</strong> (<em>int</em><em>, </em><em>(</em><em>default: 10</em><em>)</em>) â <dl class="simple">
<dt>The head of the arrow.</dt><dd><ul>
<li><p>-1: No arrow</p></li>
<li><p>10: default</p></li>
<li><p>50: The larger the more pointy the arrow becomes</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>cmap</strong> (<em>String</em><em>, </em><em>(</em><em>default: 'tab20'</em><em>)</em>) â <dl class="simple">
<dt>colormap is only used in case color=None. All colors can be reversed with â_râ, e.g. âbinaryâ to âbinary_râ</dt><dd><ul>
<li><p>âtab20câ, âSet1â, âSet2â, ârainbowâ, âbwrâ, âbinaryâ, âseismicâ, âBluesâ, âRedsâ, âPastel1â, âPairedâ, âtwilightâ, âhsvâ</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>title</strong> (<em>String</em><em>, </em><em>(</em><em>default: None</em><em>)</em>) â <dl class="simple">
<dt>Title of the figure.</dt><dd><ul>
<li><p>âChordâ</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>filepath</strong> (<em>String</em><em>, </em><em>(</em><em>Default: user temp directory</em><em>)</em>) â <dl class="simple">
<dt>File path to save the output.</dt><dd><ul>
<li><p>Temporarily path: âd3blocks.htmlâ</p></li>
<li><p>Relative path: â./d3blocks.htmlâ</p></li>
<li><p>Absolute path: âc://temp//d3blocks.htmlâ</p></li>
<li><p>None: Return HTML</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>figsize</strong> (<em>tuple</em>) â <dl class="simple">
<dt>Size of the figure in the browser, [width, height].</dt><dd><ul>
<li><p>[900, 900]</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>showfig</strong> (<em>bool</em><em>, </em><em>(</em><em>default: True</em><em>)</em>) â <ul>
<li><p>True: Open browser-window.</p></li>
<li><p>False: Do not open browser-window.</p></li>
</ul>
</p></li>
<li><p><strong>overwrite</strong> (<em>bool</em><em>, </em><em>(</em><em>default: True</em><em>)</em>) â <ul>
<li><p>True: Overwrite the html in the destination directory.</p></li>
<li><p>False: Do not overwrite destination file but show warning instead.</p></li>
</ul>
</p></li>
<li><p><strong>notebook</strong> (<em>bool</em>) â <ul>
<li><p>True: Use IPython to show chart in notebook.</p></li>
<li><p>False: Do not use IPython.</p></li>
</ul>
</p></li>
<li><p><strong>save_button</strong> (<em>bool</em><em>, </em><em>(</em><em>default: True</em><em>)</em>) â <ul>
<li><p>True: Save button is shown in the HTML to save the image in svg.</p></li>
<li><p>False: No save button is shown in the HTML.</p></li>
</ul>
</p></li>
<li><p><strong>return_html</strong> (<em>bool</em><em>, </em><em>(</em><em>default: False</em><em>)</em>) â <ul>
<li><p>True: Return html</p></li>
<li><p>False: Nothing is returned</p></li>
</ul>
</p></li>
<li><p><strong>reset_properties</strong> (<em>bool</em><em>, </em><em>(</em><em>default: True</em><em>)</em>) â <ul>
<li><p>True: Reset the node_properties at each run.</p></li>
<li><p>False: Use the d3.node_properties()</p></li>
</ul>
</p></li>
<li><p><strong>margin</strong> (<em>int</em><em>, </em><em>(</em><em>default: 150</em><em>)</em>) â <ul>
<li><p>Margin around the chord diagram in pixels.</p></li>
<li><p>Larger values create more space around the diagram.</p></li>
</ul>
</p></li>
<li><p><strong>text_offset</strong> (<em>int</em><em>, </em><em>(</em><em>default: 5</em><em>)</em>) â <ul>
<li><p>Additional offset for text labels in pixels.</p></li>
<li><p>Larger values move labels further from the chord arcs.</p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>d3.node_properties</strong> (<em>DataFrame of dictionary</em>) â Contains properties of the unique input label/nodes/samples.</p></li>
<li><p><strong>d3.edge_properties</strong> (<em>DataFrame of dictionary</em>) â Contains properties of the unique input edges/links.</p></li>
<li><p><strong>d3.config</strong> (<em>dictionary</em>) â Contains configuration properties.</p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Load d3blocks</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">d3blocks</span><span class="w"> </span><span class="kn">import</span> <span class="n">D3Blocks</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Initialize</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span> <span class="o">=</span> <span class="n">D3Blocks</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Load example data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">d3</span><span class="o">.</span><span class="n">import_example</span><span class="p">(</span><span class="s1">&#39;energy&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Plot</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">chord</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
</pre></div>
</div>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Load d3blocks</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">d3blocks</span><span class="w"> </span><span class="kn">import</span> <span class="n">D3Blocks</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Initialize</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span> <span class="o">=</span> <span class="n">D3Blocks</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Load example data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">d3</span><span class="o">.</span><span class="n">import_example</span><span class="p">(</span><span class="s1">&#39;energy&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Plot with very large margins for long labels</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">chord</span><span class="p">(</span><span class="n">df</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>         <span class="n">filepath</span><span class="o">=</span><span class="s1">&#39;chord_large_margins.html&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>         <span class="n">figsize</span><span class="o">=</span><span class="p">[</span><span class="mi">1200</span><span class="p">,</span> <span class="mi">1200</span><span class="p">],</span>  <span class="c1"># Even larger figure size</span>
<span class="gp">&gt;&gt;&gt; </span>         <span class="n">margin</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span>  <span class="c1"># Large margin for long labels</span>
<span class="gp">&gt;&gt;&gt; </span>         <span class="n">text_offset</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>  <span class="c1"># Large text offset</span>
</pre></div>
</div>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Load d3blocks</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">d3blocks</span><span class="w"> </span><span class="kn">import</span> <span class="n">D3Blocks</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Initialize</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span> <span class="o">=</span> <span class="n">D3Blocks</span><span class="p">(</span><span class="n">chart</span><span class="o">=</span><span class="s1">&#39;Chord&#39;</span><span class="p">,</span> <span class="n">frame</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Import example</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">d3</span><span class="o">.</span><span class="n">import_example</span><span class="p">(</span><span class="s1">&#39;energy&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Node properties</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">set_node_properties</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">opacity</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;tab20&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">set_edge_properties</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;source&#39;</span><span class="p">,</span> <span class="n">opacity</span><span class="o">=</span><span class="s1">&#39;source&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Show the chart</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Make some edits to highlight the Nuclear node</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># d3.node_properties</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">node_properties</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;Nuclear&#39;</span><span class="p">)[</span><span class="s1">&#39;color&#39;</span><span class="p">]</span><span class="o">=</span><span class="s1">&#39;#ff0000&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">node_properties</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;Nuclear&#39;</span><span class="p">)[</span><span class="s1">&#39;opacity&#39;</span><span class="p">]</span><span class="o">=</span><span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Show the chart</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Make edits to highlight the Nuclear Edge</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">edge_properties</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">d3</span><span class="o">.</span><span class="n">edge_properties</span><span class="p">[</span><span class="s1">&#39;source&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Nuclear&#39;</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">d3</span><span class="o">.</span><span class="n">edge_properties</span><span class="p">[</span><span class="s1">&#39;target&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Thermal generation&#39;</span><span class="p">),</span> <span class="s1">&#39;color&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;#ff0000&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">edge_properties</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">d3</span><span class="o">.</span><span class="n">edge_properties</span><span class="p">[</span><span class="s1">&#39;source&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Nuclear&#39;</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">d3</span><span class="o">.</span><span class="n">edge_properties</span><span class="p">[</span><span class="s1">&#39;target&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Thermal generation&#39;</span><span class="p">),</span> <span class="s1">&#39;opacity&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.8</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">edge_properties</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">d3</span><span class="o">.</span><span class="n">edge_properties</span><span class="p">[</span><span class="s1">&#39;source&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Nuclear&#39;</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">d3</span><span class="o">.</span><span class="n">edge_properties</span><span class="p">[</span><span class="s1">&#39;target&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Thermal generation&#39;</span><span class="p">),</span> <span class="s1">&#39;weight&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1000</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Show the chart</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Change the order of the labels.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Load d3blocks</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">d3blocks</span><span class="w"> </span><span class="kn">import</span> <span class="n">D3Blocks</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Import example</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">d3</span><span class="o">.</span><span class="n">import_example</span><span class="p">(</span><span class="s1">&#39;energy&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Custom order of the labels</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">chord</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">ordering</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;source&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Sort Ascending</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">chord</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">ordering</span><span class="o">=</span><span class="s1">&#39;ascending&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Sort Descending</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">chord</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">ordering</span><span class="o">=</span><span class="s1">&#39;descending&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Do not sort</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">chord</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">ordering</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p class="rubric">References</p>
<ul class="simple">
<li><p><a class="reference external" href="https://d3blocks.github.io/d3blocks/pages/html/Chord.html">https://d3blocks.github.io/d3blocks/pages/html/Chord.html</a></p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="d3blocks.d3blocks.D3Blocks.circlepacking">
<span class="sig-name descname"><span class="pre">circlepacking</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'sum'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zoom</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'click'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">speed</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">750</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">border</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{'color':</span> <span class="pre">'#FFFFFF',</span> <span class="pre">'fill':</span> <span class="pre">'#FFFFFF',</span> <span class="pre">'padding':</span> <span class="pre">5,</span> <span class="pre">'width':</span> <span class="pre">1.5}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">font</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">{'color':</span> <span class="pre">'#000000',</span> <span class="pre">'outlinecolor':</span> <span class="pre">'#FFFFFF',</span> <span class="pre">'size':</span> <span class="pre">20,</span> <span class="pre">'type':</span> <span class="pre">'Source</span> <span class="pre">Serif</span> <span class="pre">Pro'}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'Circlepacking</span> <span class="pre">-</span> <span class="pre">D3blocks'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filepath</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'Circlepacking.html'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[900,</span> <span class="pre">1920]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">showfig</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">notebook</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_button</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_html</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reset_properties</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#d3blocks.d3blocks.D3Blocks.circlepacking" title="Link to this definition">ï</a></dt>
<dd><p>Circlepacking block.</p>
<p>The Circlepacking chart is a visualization to hierarchically show the data as a set of nested circles.
For demonstration purposes, the âenergyâ and âstormofswordsâ dataset can be used.
The javascript code is forked from Mike Bostock and then Pythonized.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pd.DataFrame</em><em>(</em><em>)</em>) â <dl class="simple">
<dt>Input data containing the following columns:</dt><dd><ul>
<li><p>âsourceâ, âtargetâ, âweightâ</p></li>
<li><p>âlevel0â, âlevel1â, âlevel2â, âweightâ</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>size</strong> (<em>str</em><em> (</em><em>default: &quot;sum&quot;</em><em>)</em>) â <dl class="simple">
<dt>Size of the nodes can automatically be set in with:</dt><dd><ul>
<li><p>âsumâ : This is the sum of the weights for the edges</p></li>
<li><p>âconstantâ : All nodes are set to 1</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>speed</strong> (<em>int</em><em> (</em><em>default: 750</em><em>)</em>) â Speed in ms to zoom in/out</p></li>
<li><p><strong>zoom</strong> (<em>str</em><em> (</em><em>default: &quot;click&quot;</em><em>)</em>) â <dl class="simple">
<dt>Zooming method.</dt><dd><ul>
<li><p>âclickâ</p></li>
<li><p>âmouseoverâ</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>border</strong> (<em>dict.</em>) â <dl class="simple">
<dt>border properties.</dt><dd><ul>
<li><p>{âcolorâ: â#FFFFFFâ, âwidthâ: 1.5, âfillâ: â#FFFFFFâ, âpaddingâ: 2}</p></li>
<li><p>border color: color for the circles</p></li>
<li><p>width: width for the circles</p></li>
<li><p>fill: fill color for the circles</p></li>
<li><p>padding: size of the circles</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>font</strong> (<em>dict.</em>) â <dl class="simple">
<dt>font properties.</dt><dd><ul>
<li><p>{âsizeâ: 20, âtypeâ:âsans-serifâ}</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>title</strong> (<em>String</em><em>, </em><em>(</em><em>default: None</em><em>)</em>) â <dl class="simple">
<dt>Title of the figure.</dt><dd><ul>
<li><p>âCirclepackingâ</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>filepath</strong> (<em>String</em><em>, </em><em>(</em><em>Default: user temp directory</em><em>)</em>) â <ul>
<li><p>File path to save the output.</p></li>
<li><p>Temporarily path: âd3blocks.htmlâ</p></li>
<li><p>Relative path: â./d3blocks.htmlâ</p></li>
<li><p>Absolute path: âc://temp//d3blocks.htmlâ</p></li>
<li><p>None: Return HTML</p></li>
</ul>
</p></li>
<li><p><strong>figsize</strong> (<em>tuple</em>) â <dl class="simple">
<dt>Size of the figure in the browser, [width, height].</dt><dd><ul>
<li><p>[1000, 1200]</p></li>
<li><p>[None, None]: Use the screen resolution.</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>showfig</strong> (<em>bool</em><em>, </em><em>(</em><em>default: True</em><em>)</em>) â <ul>
<li><p>True: Open browser-window.</p></li>
<li><p>False: Do not open browser-window.</p></li>
</ul>
</p></li>
<li><p><strong>overwrite</strong> (<em>bool</em><em>, </em><em>(</em><em>default: True</em><em>)</em>) â <ul>
<li><p>True: Overwrite the html in the destination directory.</p></li>
<li><p>False: Do not overwrite destination file but show warning instead.</p></li>
</ul>
</p></li>
<li><p><strong>notebook</strong> (<em>bool</em>) â <ul>
<li><p>True: Use IPython to show chart in notebook.</p></li>
<li><p>False: Do not use IPython.</p></li>
</ul>
</p></li>
<li><p><strong>save_button</strong> (<em>bool</em><em>, </em><em>(</em><em>default: True</em><em>)</em>) â <ul>
<li><p>True: Save button is shown in the HTML to save the image in svg.</p></li>
<li><p>False: No save button is shown in the HTML.</p></li>
</ul>
</p></li>
<li><p><strong>return_html</strong> (<em>bool</em><em>, </em><em>(</em><em>default: False</em><em>)</em>) â <ul>
<li><p>True: Return html</p></li>
<li><p>False: Nothing is returned</p></li>
</ul>
</p></li>
<li><p><strong>reset_properties</strong> (<em>bool</em><em>, </em><em>(</em><em>default: True</em><em>)</em>) â <ul>
<li><p>True: Reset the node_properties at each run.</p></li>
<li><p>False: Use the d3.node_properties()</p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>d3.node_properties</strong> (<em>DataFrame of dictionary</em>) â Contains properties of the unique input label/nodes/samples.</p></li>
<li><p><strong>d3.edge_properties</strong> (<em>DataFrame of dictionary</em>) â Contains properties of the unique input edges/links.</p></li>
<li><p><strong>d3.config</strong> (<em>dictionary</em>) â Contains configuration properties.</p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Load d3blocks</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">d3blocks</span><span class="w"> </span><span class="kn">import</span> <span class="n">D3Blocks</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Initialize</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span> <span class="o">=</span> <span class="n">D3Blocks</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Load example data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">d3</span><span class="o">.</span><span class="n">import_example</span><span class="p">(</span><span class="s1">&#39;animals&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">d3</span><span class="o">.</span><span class="n">import_example</span><span class="p">(</span><span class="s1">&#39;energy&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Plot</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">circlepacking</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
</pre></div>
</div>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Load d3blocks</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">d3blocks</span><span class="w"> </span><span class="kn">import</span> <span class="n">D3Blocks</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Initialize</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span> <span class="o">=</span> <span class="n">D3Blocks</span><span class="p">(</span><span class="n">chart</span><span class="o">=</span><span class="s1">&#39;Circlepacking&#39;</span><span class="p">,</span> <span class="n">frame</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Import example</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">d3</span><span class="o">.</span><span class="n">import_example</span><span class="p">(</span><span class="s1">&#39;energy&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Node properties</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">set_node_properties</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">d3</span><span class="o">.</span><span class="n">node_properties</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">set_edge_properties</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">d3</span><span class="o">.</span><span class="n">edge_properties</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Show the chart</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Load d3blocks</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">d3blocks</span><span class="w"> </span><span class="kn">import</span> <span class="n">D3Blocks</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Initialize</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span> <span class="o">=</span> <span class="n">D3Blocks</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Import example</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">d3</span><span class="o">.</span><span class="n">import_example</span><span class="p">(</span><span class="s1">&#39;energy&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">html</span> <span class="o">=</span> <span class="n">d3</span><span class="o">.</span><span class="n">circlepacking</span><span class="p">(</span><span class="n">df</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                        <span class="n">speed</span><span class="o">=</span><span class="mi">1500</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                        <span class="n">zoom</span><span class="o">=</span><span class="s1">&#39;mouseover&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                        <span class="n">filepath</span><span class="o">=</span><span class="s1">&#39;c://temp//circlepacking.html&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                        <span class="n">border</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;#FFFFFF&#39;</span><span class="p">,</span> <span class="s1">&#39;width&#39;</span><span class="p">:</span> <span class="mf">1.5</span><span class="p">,</span> <span class="s1">&#39;fill&#39;</span><span class="p">:</span> <span class="s1">&#39;#FFFFFF&#39;</span><span class="p">,</span> <span class="s2">&quot;padding&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">},</span>
<span class="gp">&gt;&gt;&gt; </span>                        <span class="n">overwrite</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                        <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Show the chart</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="d3blocks.d3blocks.D3Blocks.d3graph">
<span class="sig-name descname"><span class="pre">d3graph</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'cluster'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'degree'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">opacity</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'degree'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scaler</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'zscore'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'D3graph</span> <span class="pre">-</span> <span class="pre">D3blocks'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filepath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'d3graph.html'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[1500,</span> <span class="pre">800]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collision</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">charge</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">400</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cmap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Set1'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slider</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[None,</span> <span class="pre">None]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">set_slider</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_slider</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">notebook</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">showfig</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">support</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'text'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_button</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#d3blocks.d3blocks.D3Blocks.d3graph" title="Link to this definition">ï</a></dt>
<dd><p>d3graph block.</p>
<p>d3graph is integrated in d3blocks and is to create interactive and stand-alone D3 force-directed graphs.
The input data is a dataframe containing source, target, and weight. In underneath example, we load the energy
dataset which contains 68 relationships that are stored in a DataFrame with the columns source, target, and weight.
The nodes are colored based on the Louvain heuristics which is the partition of highest modularity, i.e.
the highest partition of the dendrogram generated by the Louvain algorithm. The strength of the edges is based
on the weights. To explore the network, and the strength of the edges more extensively, the slider
(located at the top) can break the network based on the edge weights. The ouput is a html file that is
interactive and stand alone. For demonstration purposes, the âenergyâ and âstormofswordsâ dataset can be used.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pd.DataFrame</em><em>(</em><em>)</em>) â <dl class="simple">
<dt>Input data containing the following columns:</dt><dd><ul>
<li><p>âsourceâ</p></li>
<li><p>âtargetâ</p></li>
<li><p>âweightâ</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>color</strong> (<em>list</em><em> of </em><em>strings</em><em> (</em><em>default: '#000080'</em><em>)</em>) â <dl class="simple">
<dt>Color of the node.</dt><dd><ul>
<li><p>âclusterâ : Colours are based on the community distance clusters.</p></li>
<li><p>None: All nodes will have the same color (auto generated).</p></li>
<li><p>[â#000000â]: All nodes will have the same hex color.</p></li>
<li><p>[â#377eb8â,â#ffffffâ,â#000000â,â¦]: Hex colors are directly used.</p></li>
<li><p>[âAâ]: All nodes will have hte same color. Color is generated on CMAP and the unique labels.</p></li>
<li><p>[âAâ,âAâ,âBâ,â¦]:  Colors are generated using cmap and the unique labels accordingly colored.</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>size</strong> (<em>array</em><em> of </em><em>integers</em><em> (</em><em>default: 5</em><em>)</em>) â <dl class="simple">
<dt>Size of the nodes.</dt><dd><ul>
<li><p>âdegreeâ opacity is based on the centrality measure.</p></li>
<li><p>10: all nodes sizes are set to 10</p></li>
<li><p>[10, 5, 3, 1, â¦]: Specify node sizes</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>opacity</strong> (<em>list</em><em> of </em><em>floats</em><em> (</em><em>default: 'degree'</em><em>)</em>) â <dl class="simple">
<dt>Set the opacity of the node [0-1] where 0=transparant and 1=no transparancy.</dt><dd><ul>
<li><p>None: Colors are inhereted from the initialization</p></li>
<li><p>âdegreeâ opacity is based on the centrality measure.</p></li>
<li><p>0.99: All nodes will get this transparancy</p></li>
<li><p>[â0.4, 0.1, 0.3,â¦]</p></li>
<li><p>[âAâ,âAâ,âBâ,â¦]:  Opacity is generated using cmap and according to the unique labels.</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>scaler</strong> (<em>str</em><em>, </em><em>(</em><em>default: 'zscore'</em><em>)</em>) â Scale the edge-width using the following scaler:
âzscoreâ : Scale values to Z-scores.
âminmaxâ : The sklearn scaler will shrink the distribution between minmax.
None : No scaler is used.</p></li>
<li><p><strong>collision</strong> (<em>float</em><em>, </em><em>(</em><em>default: 0.5</em><em>)</em>) â Response of the network. Higher means that more collisions are prevented.</p></li>
<li><p><strong>charge</strong> (<em>int</em><em>, </em><em>(</em><em>default: 400</em><em>)</em>) â Edge length of the network. Towards zero becomes a dense network. Higher make edges longer.</p></li>
<li><p><strong>cmap</strong> (<em>String</em><em>, </em><em>(</em><em>default: 'Set1'</em><em>)</em>) â <dl class="simple">
<dt>All colors can be reversed with â_râ, e.g. âbinaryâ to âbinary_râ</dt><dd><ul>
<li><p>âtab20câ, âSet1â, âSet2â, ârainbowâ, âbwrâ, âbinaryâ, âseismicâ, âBluesâ, âRedsâ, âPastel1â, âPairedâ, âtwilightâ, âhsvâ, âinfernoâ</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>slider</strong> (<em>typle</em><em> [</em><em>min: int</em><em>, </em><em>max: int</em><em>]</em><em>:</em><em>, </em><em>(</em><em>default:</em><em> [</em><em>None</em><em>, </em><em>None</em><em>]</em><em>)</em>) â Slider is automatically set to the range of the edge weights.</p></li>
<li><p><strong>set_slider</strong> (<em>int</em><em>, </em><em>(</em><em>default: 0</em><em>)</em>) â 0: Set the the slider with all edges connected
1,2,3, etc: Set slider at a threshold with that particular network state.</p></li>
<li><p><strong>show_slider</strong> (<em>bool</em><em>, </em><em>(</em><em>default: True</em><em>)</em>) â True: Slider is shown in the HTML.
False: Slider is not shown in the HTML.</p></li>
<li><p><strong>title</strong> (<em>String</em><em>, </em><em>(</em><em>default: None</em><em>)</em>) â <dl class="simple">
<dt>Title of the figure.</dt><dd><ul>
<li><p>âd3graphâ</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>filepath</strong> (<em>String</em><em>, </em><em>(</em><em>Default: user temp directory</em><em>)</em>) â <dl class="simple">
<dt>File path to save the output.</dt><dd><ul>
<li><p>Temporarily path: âd3blocks.htmlâ</p></li>
<li><p>Relative path: â./d3blocks.htmlâ</p></li>
<li><p>Absolute path: âc://temp//d3blocks.htmlâ</p></li>
<li><p>None: Return HTML</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>figsize</strong> (<em>tuple</em>) â <dl class="simple">
<dt>Size of the figure in the browser, [width, height].</dt><dd><ul>
<li><p>[1500, 800]</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>showfig</strong> (<em>bool</em><em>, </em><em>(</em><em>default: True</em><em>)</em>) â <ul>
<li><p>True: Open browser-window.</p></li>
<li><p>False: Do not open browser-window.</p></li>
</ul>
</p></li>
<li><p><strong>notebook</strong> (<em>bool</em>) â <ul>
<li><p>True: Use IPython to show chart in notebook.</p></li>
<li><p>False: Do not use IPython.</p></li>
</ul>
</p></li>
<li><p><strong>save_button</strong> (<em>bool</em><em>, </em><em>(</em><em>default: True</em><em>)</em>) â <ul>
<li><p>True: Save button is shown in the HTML to save the image in svg.</p></li>
<li><p>False: No save button is shown in the HTML.</p></li>
</ul>
</p></li>
<li><p><strong>overwrite</strong> (<em>bool</em><em>, </em><em>(</em><em>default: True</em><em>)</em>) â <ul>
<li><p>True: Overwrite the html in the destination directory.</p></li>
<li><p>False: Do not overwrite destination file but show warning instead.</p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Load library</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">d3blocks</span><span class="w"> </span><span class="kn">import</span> <span class="n">D3Blocks</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Initialize</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span> <span class="o">=</span> <span class="n">D3Blocks</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Import example</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">d3</span><span class="o">.</span><span class="n">import_example</span><span class="p">(</span><span class="s1">&#39;energy&#39;</span><span class="p">)</span> <span class="c1"># &#39;bigbang&#39;, &#39;stormofswords&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create network using default</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">d3graph</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">filepath</span><span class="o">=</span><span class="s1">&#39;d3graph.html&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Change scaler</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">d3graph</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">scaler</span><span class="o">=</span><span class="s1">&#39;minmax&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Change node properties</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">D3graph</span><span class="o">.</span><span class="n">set_node_properties</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">D3graph</span><span class="o">.</span><span class="n">node_properties</span><span class="p">[</span><span class="s1">&#39;Solar&#39;</span><span class="p">][</span><span class="s1">&#39;size&#39;</span><span class="p">]</span><span class="o">=</span><span class="mi">30</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">D3graph</span><span class="o">.</span><span class="n">node_properties</span><span class="p">[</span><span class="s1">&#39;Solar&#39;</span><span class="p">][</span><span class="s1">&#39;color&#39;</span><span class="p">]</span><span class="o">=</span><span class="s1">&#39;#FF0000&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">D3graph</span><span class="o">.</span><span class="n">node_properties</span><span class="p">[</span><span class="s1">&#39;Solar&#39;</span><span class="p">][</span><span class="s1">&#39;edge_color&#39;</span><span class="p">]</span><span class="o">=</span><span class="s1">&#39;#000000&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">D3graph</span><span class="o">.</span><span class="n">node_properties</span><span class="p">[</span><span class="s1">&#39;Solar&#39;</span><span class="p">][</span><span class="s1">&#39;edge_size&#39;</span><span class="p">]</span><span class="o">=</span><span class="mi">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">D3graph</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Change edge properties</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">D3graph</span><span class="o">.</span><span class="n">set_edge_properties</span><span class="p">(</span><span class="n">directed</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">marker_end</span><span class="o">=</span><span class="s1">&#39;arrow&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">D3graph</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Node properties</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">D3graph</span><span class="o">.</span><span class="n">node_properties</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Node properties</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">D3graph</span><span class="o">.</span><span class="n">edge_properties</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># After making changes, show the graph again using show()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">D3graph</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p class="rubric">References</p>
<ul class="simple">
<li><p>Github : <a class="reference external" href="https://github.com/erdogant/d3graph">https://github.com/erdogant/d3graph</a></p></li>
<li><p>Documentation: <a class="reference external" href="https://erdogant.github.io/d3graph/">https://erdogant.github.io/d3graph/</a></p></li>
<li><p>Blog</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="d3blocks.d3blocks.D3Blocks.display">
<span class="sig-name descname"><span class="pre">display</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">html</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#d3blocks.d3blocks.D3Blocks.display" title="Link to this definition">ï</a></dt>
<dd><p>Display.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="d3blocks.d3blocks.D3Blocks.elasticgraph">
<span class="sig-name descname"><span class="pre">elasticgraph</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scaler</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'zscore'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">group</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'cluster'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Elasticgraph</span> <span class="pre">-</span> <span class="pre">D3blocks'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filepath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Elasticgraph.html'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[1500,</span> <span class="pre">800]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collision</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">charge</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">250</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hull_offset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">15</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">single_click_expand</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">notebook</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">showfig</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_button</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#d3blocks.d3blocks.D3Blocks.elasticgraph" title="Link to this definition">ï</a></dt>
<dd><p>D3 Elasticgraph block.</p>
<p>Elasticgraph is integrated in d3blocks to create interactive and stand-alone D3 force-directed graphs for which
the groups are clustered. The original d3js is forked from Ger Hobbelts (see references). The input data is a
dataframe containing source, target, and weight. This graph relies on the properties of d3graph and is also utilized
in the d3blocks library.
In underneath example, we load an example dataset which contains K relationships that are stored in a DataFrame
with the columns source, target, and weight. The nodes are clustered (and colored) based on the Louvain
heuristics which is the partition of highest modularity, i.e. the highest partition of the dendrogram generated
by the Louvain algorithm. The strength of the edges is based on the weights. The ouput is a html file that is
interactive and stand alone. For demonstration purposes, the âbigbangâ, âenergyâ and âstormofswordsâ dataset can
be used.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pd.DataFrame</em><em>(</em><em>)</em>) â <dl class="simple">
<dt>Input data containing the following columns:</dt><dd><ul>
<li><p>âsourceâ</p></li>
<li><p>âtargetâ</p></li>
<li><p>âweightâ</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>group</strong> (<em>list</em><em> of </em><em>strings</em><em> (</em><em>default: 'cluster'</em><em>)</em>) â <dl class="simple">
<dt>Grouping (and coloring) of the nodes.</dt><dd><ul>
<li><p>âclusterâ : Colours are based on the community distance clusters.</p></li>
<li><p>None: All nodes will have the same color (auto generated).</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>collision</strong> (<em>float</em><em>, </em><em>(</em><em>default: 0.5</em><em>)</em>) â Response of the network. Higher means that more collisions are prevented.</p></li>
<li><p><strong>charge</strong> (<em>int</em><em>, </em><em>(</em><em>default: 250</em><em>)</em>) â Edge length of the network. Towards zero becomes a dense network. Higher make edges longer.</p></li>
<li><p><strong>size</strong> (<em>float</em><em>, </em><em>(</em><em>default: 4</em><em>)</em>) â Size of the nodes.</p></li>
<li><p><strong>hull_offset</strong> (<em>float</em><em>, </em><em>(</em><em>default: 15</em><em>)</em>) â The higher the number the more the clusters will overlap after expanding.</p></li>
<li><p><strong>single_click_expand</strong> (<em>bool</em><em>, </em><em>(</em><em>default: False</em><em>)</em>) â Nodes are not expanded with a single click.</p></li>
<li><p><strong>title</strong> (<em>String</em><em>, </em><em>(</em><em>default: None</em><em>)</em>) â <dl class="simple">
<dt>Title of the figure.</dt><dd><ul>
<li><p>âelasticgraphâ</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>filepath</strong> (<em>String</em><em>, </em><em>(</em><em>Default: user temp directory</em><em>)</em>) â <dl class="simple">
<dt>File path to save the output.</dt><dd><ul>
<li><p>Temporarily path: âd3blocks.htmlâ</p></li>
<li><p>Relative path: â./d3blocks.htmlâ</p></li>
<li><p>Absolute path: âc://temp//d3blocks.htmlâ</p></li>
<li><p>None: Return HTML</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>figsize</strong> (<em>tuple</em>) â <dl class="simple">
<dt>Size of the figure in the browser, [width, height].</dt><dd><ul>
<li><p>[None, None] # Full screen</p></li>
<li><p>[1500, 800]</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>showfig</strong> (<em>bool</em><em>, </em><em>(</em><em>default: True</em><em>)</em>) â <ul>
<li><p>True: Open browser-window.</p></li>
<li><p>False: Do not open browser-window.</p></li>
</ul>
</p></li>
<li><p><strong>notebook</strong> (<em>bool</em>) â <ul>
<li><p>True: Use IPython to show chart in notebook.</p></li>
<li><p>False: Do not use IPython.</p></li>
</ul>
</p></li>
<li><p><strong>save_button</strong> (<em>bool</em><em>, </em><em>(</em><em>default: True</em><em>)</em>) â <ul>
<li><p>True: Save button is shown in the HTML to save the image in svg.</p></li>
<li><p>False: No save button is shown in the HTML.</p></li>
</ul>
</p></li>
<li><p><strong>overwrite</strong> (<em>bool</em><em>, </em><em>(</em><em>default: True</em><em>)</em>) â <ul>
<li><p>True: Overwrite the html in the destination directory.</p></li>
<li><p>False: Do not overwrite destination file but show warning instead.</p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Load library</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">d3blocks</span><span class="w"> </span><span class="kn">import</span> <span class="n">D3Blocks</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Initialize</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span> <span class="o">=</span> <span class="n">D3Blocks</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Import example</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">d3</span><span class="o">.</span><span class="n">import_example</span><span class="p">(</span><span class="s1">&#39;energy&#39;</span><span class="p">)</span> <span class="c1"># &#39;stormofswords&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create force-directed-network (without cluster labels)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">elasticgraph</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">filepath</span><span class="o">=</span><span class="s1">&#39;Elasticgraph.html&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Show elasticgraph</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">Elasticgraph</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Show original graph with the same properties</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">Elasticgraph</span><span class="o">.</span><span class="n">D3graph</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Add cluster labels (no need to do it again because it is the default)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># d3.Elasticgraph.set_node_properties(color=None)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># After making changes, show the graph again using show()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">Elasticgraph</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Show original graph</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">Elasticgraph</span><span class="o">.</span><span class="n">D3graph</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Node properties</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">Elasticgraph</span><span class="o">.</span><span class="n">D3graph</span><span class="o">.</span><span class="n">node_properties</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Node properties</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">Elasticgraph</span><span class="o">.</span><span class="n">D3graph</span><span class="o">.</span><span class="n">edge_properties</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
</pre></div>
</div>
<p class="rubric">References</p>
<ul class="simple">
<li><p>Gitlab : <a class="reference external" href="https://gitlab.com/rwsdatalab/public/codebase/tools/elasticgraph">https://gitlab.com/rwsdatalab/public/codebase/tools/elasticgraph</a></p></li>
<li><p>Blog</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="d3blocks.d3blocks.D3Blocks.heatmap">
<span class="sig-name descname"><span class="pre">heatmap</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scaler</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'zscore'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'cluster'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cmap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Set2'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filepath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'heatmap.html'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Heatmap</span> <span class="pre">-</span> <span class="pre">D3blocks'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stroke</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'red'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fontsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fontsize_mouseover</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">18</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">description</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{'cluster':</span> <span class="pre">'agglomerative',</span> <span class="pre">'evaluate':</span> <span class="pre">'silhouette',</span> <span class="pre">'linkage':</span> <span class="pre">'complete',</span> <span class="pre">'max_clust':</span> <span class="pre">25,</span> <span class="pre">'metric':</span> <span class="pre">'euclidean',</span> <span class="pre">'min_clust':</span> <span class="pre">3,</span> <span class="pre">'normalize':</span> <span class="pre">False}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[720,</span> <span class="pre">720]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">showfig</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">notebook</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_button</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_html</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reset_properties</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#d3blocks.d3blocks.D3Blocks.heatmap" title="Link to this definition">ï</a></dt>
<dd><p>Heatmap block.</p>
<p>heatmap is a Python package to create interactive heatmaps based on d3js.
The heatmap allows interactive clustering where the cluster coloring can be customized.
Clusters are colored and within each cluster the color is incremental based on the value.
Adjacency matrix must be symetric.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pd.DataFrame</em><em>(</em><em>)</em>) â Input data. The index and column names are used for the row/column naming.</p></li>
<li><p><strong>scaler</strong> (<em>str</em><em>, </em><em>(</em><em>default: 'zscore'</em><em>)</em>) â Scale the edge-width using the following scaler:
âzscoreâ : Scale values to Z-scores.
âminmaxâ : The sklearn scaler will shrink the distribution between minmax.
None : No scaler is used.</p></li>
<li><p><strong>color</strong> (<em>str</em><em> or </em><em>list</em>) â <dl class="simple">
<dt>Class label to color the clustering.</dt><dd><ul>
<li><p>âclusterâ: colors are based on clustering</p></li>
<li><p>âlabelâ: colors are based on the presence of unique labels</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>stroke</strong> (<em>String</em><em>, </em><em>(</em><em>default: 'red'</em><em>)</em><em>.</em>) â <dl class="simple">
<dt>Color of the recangle when hovering over a cell.</dt><dd><ul>
<li><p>âredâ</p></li>
<li><p>âblackâ</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>fontsize</strong> (<em>int</em><em>, </em><em>(</em><em>default: 10</em><em>)</em>) â The fontsize of the columns and rows</p></li>
<li><p><strong>fontsize_mouseover</strong> (<em>int</em><em>, </em><em>(</em><em>default: 10</em><em>)</em>) â The fontsize of the columns and rows with mouse-over</p></li>
<li><p><strong>description</strong> (<em>String</em><em>, </em><em>(</em><em>default: 'Heatmap description'</em><em>)</em>) â Description text of the heatmap.</p></li>
<li><p><strong>cluster_params</strong> (<em>dict</em><em> (</em><em>defaults</em><em>)</em>) â Parameters for clustering the data and using the cluster labels to color the heatmap. See references for more information.</p></li>
<li><p><strong>cmap</strong> (<em>String</em><em>, </em><em>(</em><em>default: 'Set1'</em><em>)</em>) â <dl class="simple">
<dt>All colors can be reversed with â_râ, e.g. âbinaryâ to âbinary_râ</dt><dd><ul>
<li><p>âtab20câ, âSet1â, âSet2â, ârainbowâ, âbwrâ, âbinaryâ, âseismicâ, âBluesâ, âRedsâ, âPastel1â, âPairedâ, âtwilightâ, âhsvâ, âinfernoâ</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>title</strong> (<em>String</em><em>, </em><em>(</em><em>default: None</em><em>)</em>) â <dl class="simple">
<dt>Title of the figure.</dt><dd><ul>
<li><p>âHeatmapâ</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>filepath</strong> (<em>String</em><em>, </em><em>(</em><em>Default: user temp directory</em><em>)</em>) â <dl class="simple">
<dt>File path to save the output.</dt><dd><ul>
<li><p>Temporarily path: âd3blocks.htmlâ</p></li>
<li><p>Relative path: â./d3blocks.htmlâ</p></li>
<li><p>Absolute path: âc://temp//d3blocks.htmlâ</p></li>
<li><p>None: Return HTML</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>figsize</strong> (<em>tuple</em>) â <dl class="simple">
<dt>Size of the figure in the browser, [width, height].</dt><dd><ul>
<li><p>[800, 800]</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>showfig</strong> (<em>bool</em><em>, </em><em>(</em><em>default: True</em><em>)</em>) â <ul>
<li><p>True: Open browser-window.</p></li>
<li><p>False: Do not open browser-window.</p></li>
</ul>
</p></li>
<li><p><strong>overwrite</strong> (<em>bool</em><em>, </em><em>(</em><em>default: True</em><em>)</em>) â <ul>
<li><p>True: Overwrite the html in the destination directory.</p></li>
<li><p>False: Do not overwrite destination file but show warning instead.</p></li>
</ul>
</p></li>
<li><p><strong>notebook</strong> (<em>bool</em>) â <ul>
<li><p>True: Use IPython to show chart in notebook.</p></li>
<li><p>False: Do not use IPython.</p></li>
</ul>
</p></li>
<li><p><strong>save_button</strong> (<em>bool</em><em>, </em><em>(</em><em>default: True</em><em>)</em>) â <ul>
<li><p>True: Save button is shown in the HTML to save the image in svg.</p></li>
<li><p>False: No save button is shown in the HTML.</p></li>
</ul>
</p></li>
<li><p><strong>return_html</strong> (<em>bool</em><em>, </em><em>(</em><em>default: False</em><em>)</em>) â <ul>
<li><p>True: Return html</p></li>
<li><p>False: Nothing is returned</p></li>
</ul>
</p></li>
<li><p><strong>reset_properties</strong> (<em>bool</em><em>, </em><em>(</em><em>default: True</em><em>)</em>) â <ul>
<li><p>True: Reset the node_properties at each run.</p></li>
<li><p>False: Use the d3.node_properties()</p></li>
</ul>
</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Load d3blocks</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">d3blocks</span><span class="w"> </span><span class="kn">import</span> <span class="n">D3Blocks</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Initialize</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span> <span class="o">=</span> <span class="n">D3Blocks</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Load example data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">d3</span><span class="o">.</span><span class="n">import_example</span><span class="p">(</span><span class="s1">&#39;stormofswords&#39;</span><span class="p">)</span>  <span class="c1"># &#39;energy&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Plot</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">heatmap</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
</pre></div>
</div>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Load d3blocks</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">d3blocks</span><span class="w"> </span><span class="kn">import</span> <span class="n">D3Blocks</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Initialize</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span> <span class="o">=</span> <span class="n">D3Blocks</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Load example data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">d3</span><span class="o">.</span><span class="n">import_example</span><span class="p">(</span><span class="s1">&#39;energy&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Change cluster parameters</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">heatmap</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">cluster_params</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;evaluate&#39;</span><span class="p">:</span><span class="s1">&#39;dbindex&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                               <span class="s1">&#39;metric&#39;</span><span class="p">:</span><span class="s1">&#39;hamming&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                               <span class="s1">&#39;linkage&#39;</span><span class="p">:</span><span class="s1">&#39;complete&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                               <span class="s1">&#39;normalize&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                               <span class="s1">&#39;min_clust&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                               <span class="s1">&#39;max_clust&#39;</span><span class="p">:</span> <span class="mi">15</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
</pre></div>
</div>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Initialize</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span> <span class="o">=</span> <span class="n">D3Blocks</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Load example data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">d3</span><span class="o">.</span><span class="n">import_example</span><span class="p">(</span><span class="s1">&#39;bigbang&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Plot and color on label</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">heatmap</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">node_properties</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Plot and specify the hex color</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">heatmap</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;#FFF000&#39;</span><span class="p">,</span> <span class="s1">&#39;#FFF000&#39;</span><span class="p">,</span> <span class="s1">&#39;#FFF000&#39;</span><span class="p">,</span> <span class="s1">&#39;#000FFF&#39;</span> <span class="p">,</span> <span class="s1">&#39;#000FFF&#39;</span><span class="p">,</span> <span class="s1">&#39;#000FFF&#39;</span><span class="p">,</span> <span class="s1">&#39;#000FFF&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">node_properties</span>
</pre></div>
</div>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Initialize</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span> <span class="o">=</span> <span class="n">D3Blocks</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Network graph</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">d3graph</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">charge</span><span class="o">=</span><span class="mi">800</span><span class="p">,</span> <span class="n">collision</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">showfig</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Extract the node colors from the network graph.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">node_colors</span> <span class="o">=</span> <span class="n">d3</span><span class="o">.</span><span class="n">D3graph</span><span class="o">.</span><span class="n">node_properties</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Heatmap</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span> <span class="o">=</span> <span class="n">D3Blocks</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create the heatmap but do not show it yet because we first need to adjust the colors</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">heatmap</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">showfig</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Update the colors of the network graph to be consistent with the colors</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">node_properties</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">label</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">d3</span><span class="o">.</span><span class="n">node_properties</span><span class="p">[</span><span class="s1">&#39;label&#39;</span><span class="p">]):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">if</span> <span class="n">node_colors</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">label</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="n">d3</span><span class="o">.</span><span class="n">node_properties</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">node_colors</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">label</span><span class="p">)[</span><span class="s1">&#39;color&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">showfig</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">[</span><span class="mi">600</span><span class="p">,</span> <span class="mi">600</span><span class="p">],</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">scaler</span><span class="o">=</span><span class="s1">&#39;zscore&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p class="rubric">References</p>
<ul class="simple">
<li><p><a class="reference external" href="https://d3blocks.github.io/d3blocks/pages/html/Heatmap.html">https://d3blocks.github.io/d3blocks/pages/html/Heatmap.html</a></p></li>
<li><p><a class="reference external" href="https://erdogant.github.io/clusteval/">https://erdogant.github.io/clusteval/</a></p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="d3blocks.d3blocks.D3Blocks.imageslider">
<span class="sig-name descname"><span class="pre">imageslider</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">img_before</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">img_after</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colorscale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">background</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'#000000'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Imageslider</span> <span class="pre">-</span> <span class="pre">D3blocks'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filepath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'imageslider.html'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[None,</span> <span class="pre">None]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">showfig</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">notebook</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_html</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#d3blocks.d3blocks.D3Blocks.imageslider" title="Link to this definition">ï</a></dt>
<dd><p>Imageslider Block.</p>
<p>The imageslider allows comparison of two images. This is useful in case there is a before and after state.
For demonstration purposes, the example can be loaded from the Southern Nebula image that is taken with the
Hubble telescope, and can be easily compared to that of the newest telescope. The javascript code is forked
from JohnEdChristensen and then Pythonized to easily make comparisons between images.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>img_before</strong> (<em>String</em>) â absolute path to before image.</p></li>
<li><p><strong>img_after</strong> (<em>String</em>) â absolute path to after image.</p></li>
<li><p><strong>scale</strong> (<em>bool</em><em>, </em><em>default: True</em>) â <dl class="simple">
<dt>Scale image in range [0, 255], by img*(255/max(img))</dt><dd><ul>
<li><p>True: Scaling image</p></li>
<li><p>False: Leave image untouched</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>colorscale</strong> (<em>int</em><em>, </em><em>default: -1</em><em> (</em><em>untouched</em><em>)</em>) â <dl class="simple">
<dt>colour-scaling from opencv.</dt><dd><ul>
<li><p>0: cv2.IMREAD_GRAYSCALE</p></li>
<li><p>1: cv2.IMREAD_COLOR</p></li>
<li><p>2: cv2.IMREAD_ANYDEPTH</p></li>
<li><p>8: cv2.COLOR_GRAY2RGB</p></li>
<li><p>-1: cv2.IMREAD_UNCHANGED</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>background</strong> (<em>String</em><em> (</em><em>default: '#000000'</em><em>)</em>) â Background color.</p></li>
<li><p><strong>title</strong> (<em>String</em><em>, </em><em>(</em><em>default: None</em><em>)</em>) â <dl class="simple">
<dt>Title of the figure.</dt><dd><ul>
<li><p>âImagesliderâ</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>filepath</strong> (<em>String</em><em>, </em><em>(</em><em>Default: user temp directory</em><em>)</em>) â <ul>
<li><p>File path to save the output.</p></li>
<li><p>Temporarily path: âd3blocks.htmlâ</p></li>
<li><p>Relative path: â./d3blocks.htmlâ</p></li>
<li><p>Absolute path: âc://temp//d3blocks.htmlâ</p></li>
<li><p>None: Return HTML</p></li>
</ul>
</p></li>
<li><p><strong>figsize</strong> (<em>tuple</em>) â <dl class="simple">
<dt>Size of the figure in the browser, [width, height].</dt><dd><ul>
<li><p>[900, 900]</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>showfig</strong> (<em>bool</em><em>, </em><em>(</em><em>default: True</em><em>)</em>) â <ul>
<li><p>True: Open browser-window.</p></li>
<li><p>False: Do not open browser-window.</p></li>
</ul>
</p></li>
<li><p><strong>notebook</strong> (<em>bool</em>) â <ul>
<li><p>True: Use IPython to show chart in notebook.</p></li>
<li><p>False: Do not use IPython.</p></li>
</ul>
</p></li>
<li><p><strong>return_html</strong> (<em>bool</em><em>, </em><em>(</em><em>default: False</em><em>)</em>) â <ul>
<li><p>True: Return html</p></li>
<li><p>False: Nothing is returned</p></li>
</ul>
</p></li>
<li><p><strong>overwrite</strong> (<em>bool</em><em>, </em><em>(</em><em>default: True</em><em>)</em>) â <ul>
<li><p>True: Overwrite the html in the destination directory.</p></li>
<li><p>False: Do not overwrite destination file but show warning instead.</p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Load d3blocks</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">d3blocks</span><span class="w"> </span><span class="kn">import</span> <span class="n">D3Blocks</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Initialize</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span> <span class="o">=</span> <span class="n">D3Blocks</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Local images</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img_before</span><span class="p">,</span> <span class="n">img_after</span> <span class="o">=</span> <span class="n">d3</span><span class="o">.</span><span class="n">import_example</span><span class="p">(</span><span class="s1">&#39;southern_nebula&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Internet location</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img_before</span><span class="p">,</span> <span class="n">img_after</span> <span class="o">=</span> <span class="n">d3</span><span class="o">.</span><span class="n">import_example</span><span class="p">(</span><span class="s1">&#39;southern_nebula_internet&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Read the image in array</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img_before</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="n">img_before</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img_after</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="n">img_after</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Plot</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">imageslider</span><span class="p">(</span><span class="n">img_before</span><span class="p">,</span> <span class="n">img_after</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Plot</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">imageslider</span><span class="p">(</span><span class="n">img_before</span><span class="p">,</span> <span class="n">img_after</span><span class="p">,</span> <span class="n">showfig</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">colorscale</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">[</span><span class="mi">400</span><span class="p">,</span> <span class="mi">400</span><span class="p">])</span>
</pre></div>
</div>
<p class="rubric">References</p>
<ul class="simple">
<li><p><a class="reference external" href="https://d3blocks.github.io/d3blocks/pages/html/Imageslider.html">https://d3blocks.github.io/d3blocks/pages/html/Imageslider.html</a></p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="d3blocks.d3blocks.D3Blocks.import_example">
<span class="sig-name descname"><span class="pre">import_example</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">c</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">300</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">date_start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'17-12-1903</span> <span class="pre">00:00:00'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">date_stop</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'17-12-1903</span> <span class="pre">23:59:59'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#d3blocks.d3blocks.D3Blocks.import_example" title="Link to this definition">ï</a></dt>
<dd><p>Import example dataset from github source.</p>
<p>Import one of the few datasets from github sourcek.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>str</em>) â <dl class="simple">
<dt>Example datasets:</dt><dd><ul>
<li><p>âmovingbubblesâ</p></li>
<li><p>ârandom_timeâ</p></li>
<li><p>âtimeseriesâ</p></li>
<li><p>âbigbangâ</p></li>
<li><p>âsouthern_nebula_internetâ</p></li>
<li><p>âclimateâ</p></li>
<li><p>âmnistâ</p></li>
<li><p>âanimalsâ</p></li>
</ul>
</dd>
<dt>Datazets:</dt><dd><ul>
<li><p>âenergyâ</p></li>
<li><p>âstormofswordsâ</p></li>
<li><p>âsouthern_nebulaâ</p></li>
<li><p>âcancerâ</p></li>
<li><p>âbreast_cancerâ</p></li>
<li><p>âirisâ</p></li>
<li><p>âoccupancyâ</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>n</strong> (<em>int</em><em>, </em><em>(</em><em>default: 1000</em><em>)</em><em>.</em>) â Number of events (samples).</p></li>
<li><p><strong>c</strong> (<em>int</em><em>, </em><em>(</em><em>default: 100</em><em>)</em><em>.</em>) â Number of classes.</p></li>
<li><p><strong>date_start</strong> (<em>str</em><em>, </em><em>(</em><em>default: None</em><em>)</em>) â <dl class="simple">
<dt>Start date.</dt><dd><ul>
<li><p>â17-12-1903 00:00:00â : start date</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>date_stop</strong> (<em>str</em><em>, </em><em>(</em><em>default: None</em><em>)</em>) â <dl class="simple">
<dt>Stop date.</dt><dd><ul>
<li><p>â17-12-1903 23:59:59â : Stop date</p></li>
</ul>
</dd>
</dl>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dataset containing mixed features.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame()</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="d3blocks.d3blocks.D3Blocks.maps">
<span class="sig-name descname"><span class="pre">maps</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'#0981D1'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">opacity</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.8</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">countries</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{'Australia':</span> <span class="pre">{'color':</span> <span class="pre">'#008000',</span> <span class="pre">'line':</span> <span class="pre">'dashed',</span> <span class="pre">'linewidth':</span> <span class="pre">5,</span> <span class="pre">'opacity':</span> <span class="pre">0.3},</span> <span class="pre">'World':</span> <span class="pre">{'color':</span> <span class="pre">'#D3D3D3',</span> <span class="pre">'line':</span> <span class="pre">'none',</span> <span class="pre">'linewidth':</span> <span class="pre">1,</span> <span class="pre">'opacity':</span> <span class="pre">0.6}}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cmap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Set2'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'Maps</span> <span class="pre">-</span> <span class="pre">D3blocks'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filepath</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'maps.html'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">showfig</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">notebook</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_button</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_html</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reset_properties</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#d3blocks.d3blocks.D3Blocks.maps" title="Link to this definition">ï</a></dt>
<dd><p>Maps block.</p>
<p>The Maps chart is a visualization to plot the World and color and mark countries together with circles for highlighs.
For demonstration purposes, the âsurfspotsâ can be used.
The javascript code is forked from Mike Bostock and then Pythonized.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pd.DataFrame</em><em>(</em><em>)</em>) â <dl class="simple">
<dt>Input data containing the following columns:</dt><dd><ul>
<li><p>âlonâ, âlatâ, âlabelâ, âsizeâ, âopacityâ</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>size</strong> (<em>str</em><em> (</em><em>default: 10</em><em>)</em>) â <dl class="simple">
<dt>Size of the nodes:</dt><dd><ul>
<li><p>10 : Same size for all scatter points</p></li>
<li><p>[10, 4, 30, ..]</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>color</strong> (<em>str</em><em> (</em><em>default: '#0981D1'</em><em>)</em>) â <dl class="simple">
<dt>Hex color of the scatter points:</dt><dd><ul>
<li><p>â#0981D1â: Same color for all scatter points</p></li>
<li><p>[âNetherlandsâ, âAustraliaâ, âAustrialiaâ, ..]</p></li>
<li><p>[â#000FFFâ, â#000000â, â#000000â, ..]</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>opacity</strong> (<em>str</em><em> (</em><em>default: 0.8</em><em>)</em>) â <dl class="simple">
<dt>Opacity of the scatter points:</dt><dd><ul>
<li><p>0.8 : Same opacity for all scatter points</p></li>
<li><p>[0.8, 0.6, ..]</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>label</strong> (<em>str</em><em> (</em><em>default: ''</em><em>)</em>) â <dl class="simple">
<dt>Label of the scatter points:</dt><dd><ul>
<li><p>ââ : Same label for all scatter points</p></li>
<li><p>[âAmsterdamâ, âNew Yorkâ, ..]</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>countries</strong> (<em>dict.</em>) â <dl class="simple">
<dt>border properties of the countries. The world are the properties of the entire map. Each country can be changed accordingly.</dt><dd><ul>
<li><p>{âWorldâ: {âcolorâ:â#D3D3D3â, âopacityâ: 0.3, âlineâ: ânoneâ, âlinewidthâ: 1}},</p></li>
<li><p>color: color for the country</p></li>
<li><p>opacity: opacity of the country</p></li>
<li><p>line: [âdashedâ, ânoneâ], line of the country</p></li>
<li><p>linewidth: width of the line</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>title</strong> (<em>String</em><em>, </em><em>(</em><em>default: None</em><em>)</em>) â <dl class="simple">
<dt>Title of the figure.</dt><dd><ul>
<li><p>âCirclepackingâ</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>filepath</strong> (<em>String</em><em>, </em><em>(</em><em>Default: user temp directory</em><em>)</em>) â <ul>
<li><p>File path to save the output.</p></li>
<li><p>Temporarily path: âd3blocks.htmlâ</p></li>
<li><p>Relative path: â./d3blocks.htmlâ</p></li>
<li><p>Absolute path: âc://temp//d3blocks.htmlâ</p></li>
<li><p>None: Return HTML</p></li>
</ul>
</p></li>
<li><p><strong>figsize</strong> (<em>tuple</em>) â <dl class="simple">
<dt>Size of the figure in the browser, [width, height].</dt><dd><ul>
<li><p>[1000, 1200]</p></li>
<li><p>None or [None, None]: Use the screen resolution.</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>showfig</strong> (<em>bool</em><em>, </em><em>(</em><em>default: True</em><em>)</em>) â <ul>
<li><p>True: Open browser-window.</p></li>
<li><p>False: Do not open browser-window.</p></li>
</ul>
</p></li>
<li><p><strong>overwrite</strong> (<em>bool</em><em>, </em><em>(</em><em>default: True</em><em>)</em>) â <ul>
<li><p>True: Overwrite the html in the destination directory.</p></li>
<li><p>False: Do not overwrite destination file but show warning instead.</p></li>
</ul>
</p></li>
<li><p><strong>notebook</strong> (<em>bool</em>) â <ul>
<li><p>True: Use IPython to show chart in notebook.</p></li>
<li><p>False: Do not use IPython.</p></li>
</ul>
</p></li>
<li><p><strong>save_button</strong> (<em>bool</em><em>, </em><em>(</em><em>default: True</em><em>)</em>) â <ul>
<li><p>True: Save button is shown in the HTML to save the image in svg.</p></li>
<li><p>False: No save button is shown in the HTML.</p></li>
</ul>
</p></li>
<li><p><strong>return_html</strong> (<em>bool</em><em>, </em><em>(</em><em>default: False</em><em>)</em>) â <ul>
<li><p>True: Return html</p></li>
<li><p>False: Nothing is returned</p></li>
</ul>
</p></li>
<li><p><strong>reset_properties</strong> (<em>bool</em><em>, </em><em>(</em><em>default: True</em><em>)</em>) â <ul>
<li><p>True: Reset the node_properties at each run.</p></li>
<li><p>False: Use the d3.node_properties()</p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>d3.node_properties</strong> (<em>DataFrame of dictionary</em>) â Contains properties of the unique input label/nodes/samples.</p></li>
<li><p><strong>d3.edge_properties</strong> (<em>DataFrame of dictionary</em>) â Contains properties of the unique input edges/links.</p></li>
<li><p><strong>d3.config</strong> (<em>dictionary</em>) â Contains configuration properties.</p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Load d3blocks</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">d3blocks</span><span class="w"> </span><span class="kn">import</span> <span class="n">D3Blocks</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Initialize</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span> <span class="o">=</span> <span class="n">D3Blocks</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Load example data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">d3</span><span class="o">.</span><span class="n">import_example</span><span class="p">(</span><span class="s1">&#39;surfspots&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Plot</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">maps</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
</pre></div>
</div>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Load d3blocks</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">d3blocks</span><span class="w"> </span><span class="kn">import</span> <span class="n">D3Blocks</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Initialize</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span> <span class="o">=</span> <span class="n">D3Blocks</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Load example data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">d3</span><span class="o">.</span><span class="n">import_example</span><span class="p">(</span><span class="s1">&#39;surfspots&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Plot</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">maps</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;label&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;Set2&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">html</span> <span class="o">=</span> <span class="n">d3</span><span class="o">.</span><span class="n">maps</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;label&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">countries</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;World&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;color&#39;</span><span class="p">:</span><span class="s1">&#39;#D3D3D3&#39;</span><span class="p">,</span> <span class="s1">&#39;opacity&#39;</span><span class="p">:</span> <span class="mf">0.4</span><span class="p">,</span> <span class="s1">&#39;line&#39;</span><span class="p">:</span> <span class="s1">&#39;none&#39;</span><span class="p">,</span> <span class="s1">&#39;linewidth&#39;</span><span class="p">:</span> <span class="mf">0.1</span><span class="p">},</span>
<span class="gp">&gt;&gt;&gt; </span>                                                                <span class="s1">&#39;Netherlands&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;#000FFF&#39;</span><span class="p">,</span> <span class="s1">&#39;opacity&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span> <span class="s1">&#39;line&#39;</span><span class="p">:</span> <span class="s1">&#39;none&#39;</span><span class="p">,</span> <span class="s1">&#39;linewidth&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span>
<span class="gp">&gt;&gt;&gt; </span>                                                                <span class="s1">&#39;France&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;#FFA500&#39;</span><span class="p">,</span> <span class="s1">&#39;opacity&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;line&#39;</span><span class="p">:</span> <span class="s1">&#39;dashed&#39;</span><span class="p">,</span> <span class="s1">&#39;linewidth&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">},</span>
<span class="gp">&gt;&gt;&gt; </span>                                                                <span class="s1">&#39;Australia&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;#008000&#39;</span><span class="p">,</span> <span class="s1">&#39;opacity&#39;</span><span class="p">:</span> <span class="mf">0.3</span><span class="p">,</span> <span class="s1">&#39;line&#39;</span><span class="p">:</span> <span class="s1">&#39;dashed&#39;</span><span class="p">,</span> <span class="s1">&#39;linewidth&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">},</span>
<span class="gp">&gt;&gt;&gt; </span>                                                                <span class="p">})</span>
</pre></div>
</div>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Load library</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">d3blocks</span><span class="w"> </span><span class="kn">import</span> <span class="n">D3Blocks</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Initialize</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span> <span class="o">=</span> <span class="n">D3Blocks</span><span class="p">(</span><span class="n">chart</span><span class="o">=</span><span class="s1">&#39;maps&#39;</span><span class="p">,</span> <span class="n">frame</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Import example</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">d3</span><span class="o">.</span><span class="n">import_example</span><span class="p">(</span><span class="s1">&#39;surfspots&#39;</span><span class="p">,</span> <span class="n">overwrite</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Set node properties</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">set_node_properties</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">node_properties</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Set edge properties</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">set_edge_properties</span><span class="p">({</span><span class="s1">&#39;Australia&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;#008000&#39;</span><span class="p">,</span> <span class="s1">&#39;opacity&#39;</span><span class="p">:</span> <span class="mf">0.3</span><span class="p">,</span> <span class="s1">&#39;line&#39;</span><span class="p">:</span> <span class="s1">&#39;dashed&#39;</span><span class="p">,</span> <span class="s1">&#39;linewidth&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">},</span>
<span class="gp">&gt;&gt;&gt; </span>                        <span class="s1">&#39;Netherlands&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;#000FFF&#39;</span><span class="p">,</span> <span class="s1">&#39;line&#39;</span><span class="p">:</span> <span class="s1">&#39;dashed&#39;</span><span class="p">},</span>
<span class="gp">&gt;&gt;&gt; </span>                        <span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">edge_properties</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Show chart</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="d3blocks.d3blocks.D3Blocks.matrix">
<span class="sig-name descname"><span class="pre">matrix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stroke</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'red'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">description</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vmin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vmax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cmap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'interpolateInferno'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fontsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Matrix</span> <span class="pre">-</span> <span class="pre">D3blocks'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[700,</span> <span class="pre">500]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">showfig</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filepath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'matrix.html'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">notebook</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_button</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_html</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reset_properties</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#d3blocks.d3blocks.D3Blocks.matrix" title="Link to this definition">ï</a></dt>
<dd><p>Matrix block.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pd.DataFrame</em><em>(</em><em>)</em>) â Input data. The index and column names are used for the row/column naming.</p></li>
<li><p><strong>scale</strong> (<em>Bool</em><em>, </em><em>(</em><em>default: True</em><em>)</em><em>.</em>) â <dl class="simple">
<dt>Scale data in range Scaling in range by X*(100/max(X)).</dt><dd><ul>
<li><p>True: Scale the values.</p></li>
<li><p>False: Do not scale.</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>stroke</strong> (<em>String</em><em>, </em><em>(</em><em>default: 'red'</em><em>)</em><em>.</em>) â <dl class="simple">
<dt>Color of the recangle when hovering over a cell.</dt><dd><ul>
<li><p>âredâ</p></li>
<li><p>âblackâ</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>description</strong> (<em>String.</em>) â Description text of the heatmap.</p></li>
<li><p><strong>vmax</strong> (<em>Bool</em><em>, </em><em>(</em><em>default: 100</em><em>)</em><em>.</em>) â <dl class="simple">
<dt>Range of colors starting with maximum value. Increasing this value will color the cells more discrete.</dt><dd><ul>
<li><p>1 : cells above value &gt;1 are capped.</p></li>
</ul>
</dd>
</dl>
<p>None : cells are colored based on the maximum value in the input data.</p>
</p></li>
<li><p><strong>cmap</strong> (<em>String</em><em>, </em><em>(</em><em>default: 'interpolateInferno'</em><em>)</em><em>.</em>) â <dl class="simple">
<dt>The colormap scheme. See references for more schmes.</dt><dd><ul>
<li><p>âinterpolateInfernoâ</p></li>
<li><p>âinterpolatePRGnâ</p></li>
<li><p>âinterpolateBluesâ</p></li>
<li><p>âinterpolateGreensâ</p></li>
<li><p>âinterpolateTurboâ</p></li>
<li><p>âinterpolateViridisâ</p></li>
<li><p>âinterpolateInfernoâ</p></li>
<li><p>âinterpolateRainbowâ</p></li>
<li><p>âinterpolateSinebowâ</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>fontsize</strong> (<em>int</em><em>, </em><em>(</em><em>default: 10</em><em>)</em><em>.</em>) â Font size for the X and Y labels.</p></li>
<li><p><strong>title</strong> (<em>String</em><em>, </em><em>(</em><em>default: None</em><em>)</em>) â <dl class="simple">
<dt>Title of the figure.</dt><dd><ul>
<li><p>âHeatmapâ</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>figsize</strong> (<em>tuple</em>) â <dl class="simple">
<dt>Size of the figure in the browser, [width, height].</dt><dd><ul>
<li><p>[800, 800]</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>showfig</strong> (<em>bool</em><em>, </em><em>(</em><em>default: True</em><em>)</em>) â <ul>
<li><p>True: Open browser-window.</p></li>
<li><p>False: Do not open browser-window.</p></li>
</ul>
</p></li>
<li><p><strong>filepath</strong> (<em>String</em><em>, </em><em>(</em><em>Default: user temp directory</em><em>)</em>) â <dl class="simple">
<dt>File path to save the output.</dt><dd><ul>
<li><p>Temporarily path: âd3blocks.htmlâ</p></li>
<li><p>Relative path: â./d3blocks.htmlâ</p></li>
<li><p>Absolute path: âc://temp//d3blocks.htmlâ</p></li>
<li><p>None: Return HTML</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>overwrite</strong> (<em>bool</em><em>, </em><em>(</em><em>default: True</em><em>)</em>) â <ul>
<li><p>True: Overwrite the html in the destination directory.</p></li>
<li><p>False: Do not overwrite destination file but show warning instead.</p></li>
</ul>
</p></li>
<li><p><strong>notebook</strong> (<em>bool</em>) â <ul>
<li><p>True: Use IPython to show chart in notebook.</p></li>
<li><p>False: Do not use IPython.</p></li>
</ul>
</p></li>
<li><p><strong>save_button</strong> (<em>bool</em><em>, </em><em>(</em><em>default: True</em><em>)</em>) â <ul>
<li><p>True: Save button is shown in the HTML to save the image in svg.</p></li>
<li><p>False: No save button is shown in the HTML.</p></li>
</ul>
</p></li>
<li><p><strong>return_html</strong> (<em>bool</em><em>, </em><em>(</em><em>default: False</em><em>)</em>) â <ul>
<li><p>True: Return html</p></li>
<li><p>False: Nothing is returned</p></li>
</ul>
</p></li>
<li><p><strong>reset_properties</strong> (<em>bool</em><em>, </em><em>(</em><em>default: True</em><em>)</em>) â <ul>
<li><p>True: Reset the node_properties at each run.</p></li>
<li><p>False: Use the d3.node_properties()</p></li>
</ul>
</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Initialize</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span> <span class="o">=</span> <span class="n">D3Blocks</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Load example data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">20</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Plot</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">matrix</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">matrix</span><span class="p">(</span><span class="n">df</span><span class="p">,</span>
<span class="go">              vmin=1,</span>
<span class="go">              fontsize=10,</span>
<span class="go">              title=&#39;D3blocks Matrix&#39;,</span>
<span class="go">              figsize=[600, 300],</span>
<span class="go">              cmap=&#39;interpolateGreens&#39;,</span>
<span class="go">              filepath=&#39;matrix.html&#39;,</span>
<span class="go">              )</span>
</pre></div>
</div>
<p class="rubric">References</p>
<ul class="simple">
<li><p><a class="reference external" href="https://d3blocks.github.io/d3blocks/pages/html/Heatmap.html">https://d3blocks.github.io/d3blocks/pages/html/Heatmap.html</a></p></li>
<li><p><a class="reference external" href="https://github.com/d3/d3-scale-chromatic">https://github.com/d3/d3-scale-chromatic</a></p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="d3blocks.d3blocks.D3Blocks.movingbubbles">
<span class="sig-name descname"><span class="pre">movingbubbles</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">datetime</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'datetime'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sample_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'sample_id'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">state</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'state'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cmap</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'Set1'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'state'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dt_format</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'%d-%m-%Y</span> <span class="pre">%H:%M:%S'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">damper</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fontsize</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">14</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timedelta</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'minutes'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">standardize</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'samplewise'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">speed</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">{'fast':</span> <span class="pre">50,</span> <span class="pre">'medium':</span> <span class="pre">200,</span> <span class="pre">'slow':</span> <span class="pre">1000}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[700,</span> <span class="pre">800]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">note</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_notes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'Movingbubbles</span> <span class="pre">-</span> <span class="pre">D3Blocks'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filepath</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'movingbubbles.html'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">showfig</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">notebook</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_button</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_html</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reset_properties</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#d3blocks.d3blocks.D3Blocks.movingbubbles" title="Link to this definition">ï</a></dt>
<dd><p>Movingbubbles block.</p>
<p>The MovingBubbles provides insights into when one action follows the other across time. It can help to
understand the movements of entities, and whether clusters occur at specific time points and state(s).
It may not be the most visually efficient method, but it is one of the more visually satisfying ones with
force-directed and colliding nodes. The function d3.import_example(ârandom_timeâ) is created to generate
a randomized dataset with various states. The input dataset should contain 3 columns;</p>
<blockquote>
<div><ul class="simple">
<li><p>DateTime column: Describes the data-time when an event occurs.</p></li>
<li><p>State column: Describes what the particular state was at that point of time of the specific sample_id.</p></li>
<li><p>Sample_id column: A sample can have multiple states at various time points but can not have two states at exactly the same point in time.</p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>Input data</em><em>, </em><em>pd.DataFrame</em><em>(</em><em>)</em>) â Input data.</p></li>
<li><p><strong>datetime</strong> (<em>str</em><em>, </em><em>(</em><em>default: 'datetime'</em><em>)</em>) â Name of the column with the datetime.</p></li>
<li><p><strong>sample_id</strong> (<em>str</em><em>, </em><em>(</em><em>default: 'sample_id'</em><em>)</em>) â Name of the column with the sample ids.</p></li>
<li><p><strong>state</strong> (<em>str</em><em>, </em><em>(</em><em>default: 'state'</em><em>)</em>) â Name of the column with the states.</p></li>
<li><p><strong>center</strong> (<em>String</em><em>, </em><em>(</em><em>default: None</em><em>)</em>) â Center this category.</p></li>
<li><p><strong>size</strong> (<em>int</em><em> or </em><em>dictionary.</em><em> (</em><em>default: 5</em><em>) or </em><em>{sample_id i: size}</em>) â <dl class="simple">
<dt>Size the nodes by specifying per sample_id the size.</dt><dd><ul>
<li><p>5: set all nodes this this size</p></li>
<li><p>{â0â: 4, â1â: 10, â2â: 5, ..}: Specify size for each sample_id</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>color</strong> (<em>int</em><em> or </em><em>dictionary.</em><em> (</em><em>default: '#808080'</em><em>) or </em><em>{sample_id i: hex-color}</em>) â <dl class="simple">
<dt>Color the nodes by specifying per sample_id the color.</dt><dd><ul>
<li><p>â#000FFFâ: set all nodes to this color.</p></li>
<li><p>{â0â: â#808080â, â1â: â#FFF000â, â3â: â#000000â, ..}: Specify color for each sample_id</p></li>
<li><p>None: Colors are based on sample_id using the cmap.</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>color_method</strong> (<em>str</em>) â <dl class="simple">
<dt>Coloring of the nodes.</dt><dd><ul>
<li><p>âstateâ: Use the colors defined per state as (d3.node_properties).</p></li>
<li><p>ânodeâ: Use the colors defined in the dataframe (d3.edge_properties).</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>dt_format</strong> (<em>str</em>) â <dl class="simple">
<dt>Date time format.</dt><dd><ul>
<li><p>â%d-%m-%Y %H:%M:%Sâ.</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>damper</strong> (<em>float</em><em>, </em><em>(</em><em>default: 1</em><em>)</em>) â <dl class="simple">
<dt>Movement of samples. A smaller number is slower/smoother movement.</dt><dd><ul>
<li><p>0.1: min</p></li>
<li><p>10: max</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>fontsize</strong> (<em>int</em><em>, </em><em>(</em><em>default: 14</em><em>)</em>) â Fontsize of the states.</p></li>
<li><p><strong>timedelta</strong> (<em>String</em><em>, </em><em>(</em><em>default: 'minutes'</em><em>)</em>) â <dl class="simple">
<dt>The time delta between states. Change accordingly.</dt><dd><ul>
<li><p>âsecondsâ</p></li>
<li><p>âminutesâ</p></li>
<li><p>âdaysâ</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>standardize</strong> (<em>str.</em><em> (</em><em>default: None</em><em>)</em>) â <dl class="simple">
<dt>Method to standardize the data.</dt><dd><ul>
<li><p>None: standardize over the entire timeframe. Sample_ids are dependent to each other.</p></li>
<li><p>âsamplewiseâ: Standardize per sample_id by substracting the minimum time per sample_id.</p></li>
<li><p>ârelativeâ: Standardize across the entire dataframe after sorting on time. Each action is relative to the previous one in time without considering sample_id.</p></li>
<li><p>âminimumâ: Movements are relative to the minimum time in the dataset.</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>speed</strong> (<em>dict</em><em>, </em><em>(</em><em>default: {&quot;stop&quot;: 100000</em><em>, </em><em>&quot;slow&quot;: 1000</em><em>, </em><em>&quot;medium&quot;: 200</em><em>, </em><em>&quot;fast&quot;: 50}</em><em>)</em>) â The final html file contains three buttons for speed movements. The lower the value, the faster the time moves.</p></li>
<li><p><strong>note</strong> (<em>str</em><em>, </em><em>(</em><em>default: None</em><em>)</em>) â <dl class="simple">
<dt>A specific note, such as project description can be put on the html page.</dt><dd><ul>
<li><p>None: Default text will be provided about the simulation, and states.</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>time_notes</strong> (<em>dict</em><em>, </em><em>(</em><em>default: None</em><em>)</em>) â <dl class="simple">
<dt>The time notes will be shown between specific time points.</dt><dd><ul>
<li><dl class="simple">
<dt>time_notes = [{âstart_minuteâ: 1,</dt><dd><p>âstop_minuteâ: 5,
ânoteâ: âEnter your note here and it is shown between 1 min and 5 min.â}]</p>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
<p>time_notes.append[{âstart_minuteâ: 6, âstop_minuteâ: 10, ânoteâ: âEnter your second note here and it is shown between 6 min and 10 min.â}]</p>
</p></li>
<li><p><strong>cmap</strong> (<em>String</em><em>, </em><em>(</em><em>default: 'Set1'</em><em>)</em>) â <dl class="simple">
<dt>All colors can be reversed with â_râ, e.g. âbinaryâ to âbinary_râ</dt><dd><ul>
<li><p>âtab20câ, âSet1â, âSet2â</p></li>
<li><p>ârainbowâ, âbwrâ, âbinaryâ, âseismicâ</p></li>
<li><p>âBluesâ, âRedsâ, âPastel1â, âPairedâ</p></li>
<li><p>âtwilightâ, âhsvâ, âinfernoâ</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>title</strong> (<em>String</em><em>, </em><em>(</em><em>default: None</em><em>)</em>) â <dl class="simple">
<dt>Title of the figure.</dt><dd><ul>
<li><p>âMovingbubblesâ</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>filepath</strong> (<em>String</em><em>, </em><em>(</em><em>Default: user temp directory</em><em>)</em>) â <dl class="simple">
<dt>File path to save the output.</dt><dd><ul>
<li><p>Temporarily path: âd3blocks.htmlâ</p></li>
<li><p>Relative path: â./d3blocks.htmlâ</p></li>
<li><p>Absolute path: âc://temp//d3blocks.htmlâ</p></li>
<li><p>None: Return HTML</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>figsize</strong> (<em>tuple</em>) â <dl class="simple">
<dt>Size of the figure in the browser, [width, height].</dt><dd><ul>
<li><p>[780, 800]</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>showfig</strong> (<em>bool</em><em>, </em><em>(</em><em>default: True</em><em>)</em>) â <ul>
<li><p>True: Open browser-window.</p></li>
<li><p>False: Do not open browser-window.</p></li>
</ul>
</p></li>
<li><p><strong>overwrite</strong> (<em>bool</em><em>, </em><em>(</em><em>default: True</em><em>)</em>) â <ul>
<li><p>True: Overwrite the html in the destination directory.</p></li>
<li><p>False: Do not overwrite destination file but show warning instead.</p></li>
</ul>
</p></li>
<li><p><strong>notebook</strong> (<em>bool</em>) â <ul>
<li><p>True: Use IPython to show chart in notebook.</p></li>
<li><p>False: Do not use IPython.</p></li>
</ul>
</p></li>
<li><p><strong>save_button</strong> (<em>bool</em><em>, </em><em>(</em><em>default: True</em><em>)</em>) â <ul>
<li><p>True: Save button is shown in the HTML to save the image in svg.</p></li>
<li><p>False: No save button is shown in the HTML.</p></li>
</ul>
</p></li>
<li><p><strong>return_html</strong> (<em>bool</em><em>, </em><em>(</em><em>default: False</em><em>)</em>) â <ul>
<li><p>True: Return html</p></li>
<li><p>False: Nothing is returned</p></li>
</ul>
</p></li>
<li><p><strong>reset_properties</strong> (<em>bool</em><em>, </em><em>(</em><em>default: True</em><em>)</em>) â <ul>
<li><p>True: Reset the node_properties at each run.</p></li>
<li><p>False: Use the d3.node_properties()</p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>d3.node_properties</strong> (<em>DataFrame of dictionary</em>) â Contains properties of the unique input label/nodes/samples.</p></li>
<li><p><strong>d3.edge_properties</strong> (<em>DataFrame of dictionary</em>) â Contains properties of the unique input edges/links.</p></li>
<li><p><strong>d3.config</strong> (<em>dictionary</em>) â Contains configuration properties.</p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Load d3blocks</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">d3blocks</span><span class="w"> </span><span class="kn">import</span> <span class="n">D3Blocks</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Initialize</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span> <span class="o">=</span> <span class="n">D3Blocks</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Load example data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">d3</span><span class="o">.</span><span class="n">import_example</span><span class="p">(</span><span class="s1">&#39;random_time&#39;</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">10000</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span> <span class="n">date_start</span><span class="o">=</span><span class="s2">&quot;1-1-2000 00:10:05&quot;</span><span class="p">,</span> <span class="n">date_stop</span><span class="o">=</span><span class="s2">&quot;1-1-2000 23:59:59&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Plot</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">movingbubbles</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">speed</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;stop&quot;</span><span class="p">:</span> <span class="mi">100000</span><span class="p">,</span> <span class="s2">&quot;slow&quot;</span><span class="p">:</span> <span class="mi">1000</span><span class="p">,</span> <span class="s2">&quot;medium&quot;</span><span class="p">:</span> <span class="mi">200</span><span class="p">,</span> <span class="s2">&quot;fast&quot;</span><span class="p">:</span> <span class="mi">10</span><span class="p">},</span> <span class="n">filepath</span><span class="o">=</span><span class="s1">&#39;movingbubbles.html&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
</pre></div>
</div>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Load d3blocks</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">d3blocks</span><span class="w"> </span><span class="kn">import</span> <span class="n">D3Blocks</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Initialize</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span> <span class="o">=</span> <span class="n">D3Blocks</span><span class="p">(</span><span class="n">chart</span><span class="o">=</span><span class="s1">&#39;movingbubbles&#39;</span><span class="p">,</span> <span class="n">frame</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Import example</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">d3</span><span class="o">.</span><span class="n">import_example</span><span class="p">(</span><span class="s1">&#39;random_time&#39;</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">date_start</span><span class="o">=</span><span class="s2">&quot;1-1-2000 00:10:05&quot;</span><span class="p">,</span> <span class="n">date_stop</span><span class="o">=</span><span class="s2">&quot;1-1-2000 23:59:59&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Coloring the states.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">set_node_properties</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;state&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">d3</span><span class="o">.</span><span class="n">node_properties</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Color the sleeping state black</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">node_properties</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;Sleeping&#39;</span><span class="p">)[</span><span class="s1">&#39;color&#39;</span><span class="p">]</span><span class="o">=</span><span class="s1">&#39;#000000&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">set_edge_properties</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">d3</span><span class="o">.</span><span class="n">edge_properties</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Show</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">&#39;Movingbubbles with adjusted configurations&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Load d3blocks</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">random</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">d3blocks</span><span class="w"> </span><span class="kn">import</span> <span class="n">D3Blocks</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Initialize</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span> <span class="o">=</span> <span class="n">D3Blocks</span><span class="p">(</span><span class="n">chart</span><span class="o">=</span><span class="s1">&#39;movingbubbles&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Import example</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">d3</span><span class="o">.</span><span class="n">import_example</span><span class="p">(</span><span class="s1">&#39;random_time&#39;</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">10000</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span> <span class="n">date_start</span><span class="o">=</span><span class="s2">&quot;1-1-2000 00:10:05&quot;</span><span class="p">,</span> <span class="n">date_stop</span><span class="o">=</span><span class="s2">&quot;1-1-2000 23:59:59&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Specify the colors and node sizes for the specific sample_id or for demonstration, generated randomly</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># size = {1: 15, 3: 30, 5: 25}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">size</span> <span class="o">=</span> <span class="p">{</span><span class="n">i</span><span class="p">:</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">15</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">100</span><span class="p">)}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">color</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;#FF0000&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="s1">&#39;#000FFF&#39;</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Show</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">movingbubbles</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">color</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">size</span><span class="p">)</span>
</pre></div>
</div>
<p class="rubric">References</p>
<ul class="simple">
<li><p><a class="reference external" href="https://d3blocks.github.io/d3blocks/pages/html/MovingBubbles.html">https://d3blocks.github.io/d3blocks/pages/html/MovingBubbles.html</a></p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="d3blocks.d3blocks.D3Blocks.open_browser">
<span class="sig-name descname"><span class="pre">open_browser</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sleep</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#d3blocks.d3blocks.D3Blocks.open_browser" title="Link to this definition">ï</a></dt>
<dd><p>Open browser to show chart.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="d3blocks.d3blocks.D3Blocks.particles">
<span class="sig-name descname"><span class="pre">particles</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">radius</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collision</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.05</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fontsize</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">180</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spacing</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">8</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cmap</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'Turbo'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color_background</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'#000000'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'Particles</span> <span class="pre">-</span> <span class="pre">D3blocks'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filepath</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'particles.html'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[900,</span> <span class="pre">200]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">showfig</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">notebook</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_button</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_html</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#d3blocks.d3blocks.D3Blocks.particles" title="Link to this definition">ï</a></dt>
<dd><p>Particles block.</p>
<p>The particles plot is to turn any word into an interactive visualization. With a mouse-move or touch, the particle
bounce and then return to their original place. Various properties can be changed such as the bouncing,
particle size, and colors. The original javascript is forked from Ian Johnsonâs Block.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>text</strong> (<em>str</em>) â String to be visualized</p></li>
<li><p><strong>radius</strong> (<em>float</em><em>, </em><em>optional</em><em> (</em><em>default: 3</em><em>)</em>) â Size of the particles.</p></li>
<li><p><strong>collision</strong> (<em>float</em><em>, </em><em>optional</em><em> (</em><em>default: 0.1</em><em>)</em>) â Response of the interaction. Higher means that more collisions are prevented.</p></li>
<li><p><strong>fontsize</strong> (<em>int</em><em>, </em><em>optional</em><em> (</em><em>default: 250</em><em>)</em>) â Text fontsize.
When increasing: also increase width and slighly the spacing.</p></li>
<li><p><strong>spacing</strong> (<em>int</em><em>, </em><em>optional</em><em> (</em><em>default: 10</em><em>)</em>) â The number of particles that fit in the text.
A larger spacing reults in less particles.
A smaller spacing reults in more particles.</p></li>
<li><p><strong>cmap</strong> (<em>str</em><em>, </em><em>optional</em><em> (</em><em>default: 'Set2'</em><em>)</em>) â <dl class="simple">
<dt>Color schemes can be found at the references.</dt><dd><ul>
<li><p>âTurboâ, âRainbowâ, âBluesâ, âRedsâ, âInfernoâ, âMagmaâ</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>color_background</strong> (<em>str</em><em>, </em><em>optional</em><em> (</em><em>default: '#000000'</em><em>)</em>) â Background color.</p></li>
<li><p><strong>title</strong> (<em>str</em><em>, </em><em>optional</em><em> (</em><em>default: None</em><em>)</em>) â Title of the figure.</p></li>
<li><p><strong>filepath</strong> (<em>str</em><em>, </em><em>optional</em><em> (</em><em>default: user temp directory</em><em>)</em>) â <dl class="simple">
<dt>File path to save the output.</dt><dd><ul>
<li><p>Temporarily path: âd3blocks.htmlâ</p></li>
<li><p>Relative path: â./d3blocks.htmlâ</p></li>
<li><p>Absolute path: âc://temp//d3blocks.htmlâ</p></li>
<li><p>None: Return HTML content.</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>figsize</strong> (<em>tuple</em><em>, </em><em>optional</em><em> (</em><em>default:</em><em> (</em><em>800</em><em>, </em><em>600</em><em>)</em><em>)</em>) â Size of the figure in the browser, [width, height].</p></li>
<li><p><strong>showfig</strong> (<em>bool</em><em>, </em><em>optional</em><em> (</em><em>default: True</em><em>)</em>) â Open the window to show the particles.</p></li>
<li><p><strong>notebook</strong> (<em>bool</em><em>, </em><em>optional</em>) â <ul>
<li><p>True: Use IPython to show chart in notebooks.</p></li>
<li><p>False: Do not use IPython.</p></li>
</ul>
</p></li>
<li><p><strong>save_button</strong> (<em>bool</em><em>, </em><em>(</em><em>default: True</em><em>)</em>) â <ul>
<li><p>True: Save button is shown in the HTML to save the image in svg.</p></li>
<li><p>False: No save button is shown in the HTML.</p></li>
</ul>
</p></li>
<li><p><strong>return_html</strong> (<em>bool</em><em>, </em><em>(</em><em>default: False</em><em>)</em>) â <ul>
<li><p>True: Return html</p></li>
<li><p>False: Nothing is returned</p></li>
</ul>
</p></li>
<li><p><strong>overwrite</strong> (<em>bool</em><em>, </em><em>optional</em><em> (</em><em>default: True</em><em>)</em>) â <ul>
<li><p>True: Overwrite the output html in the destination directory.</p></li>
<li><p>False: Do not overwrite</p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Load d3blocks</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">d3blocks</span><span class="w"> </span><span class="kn">import</span> <span class="n">D3Blocks</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Initialize</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span> <span class="o">=</span> <span class="n">D3Blocks</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create chart with defaults</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">particles</span><span class="p">(</span><span class="s1">&#39;D3blocks&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create customized chart</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">particles</span><span class="p">(</span><span class="s1">&#39;D3Blocks&#39;</span><span class="p">,</span>
<span class="go">                 filepath=&#39;D3Blocks.html&#39;,</span>
<span class="go">                 collision=0.05,</span>
<span class="go">                 spacing=7,</span>
<span class="go">                 figsize=[750, 150],</span>
<span class="go">                 fontsize=130,</span>
<span class="go">                 cmap=&#39;Turbo&#39;,</span>
<span class="go">                 color_background=&#39;#ffffff&#39;)</span>
</pre></div>
</div>
<p class="rubric">References</p>
<ul class="simple">
<li><p><a class="reference external" href="https://d3blocks.github.io/d3blocks/pages/html/Particles.html">https://d3blocks.github.io/d3blocks/pages/html/Particles.html</a></p></li>
<li><p><a class="reference external" href="https://observablehq.com/&#64;d3/color-schemes">https://observablehq.com/&#64;d3/color-schemes</a></p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="d3blocks.d3blocks.D3Blocks.sankey">
<span class="sig-name descname"><span class="pre">sankey</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{'align':</span> <span class="pre">'justify',</span> <span class="pre">'color':</span> <span class="pre">'currentColor',</span> <span class="pre">'padding':</span> <span class="pre">15,</span> <span class="pre">'width':</span> <span class="pre">15}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">link</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{'color':</span> <span class="pre">'source-target',</span> <span class="pre">'color_static':</span> <span class="pre">'#d3d3d3',</span> <span class="pre">'stroke_opacity':</span> <span class="pre">0.5}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">margin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{'bottom':</span> <span class="pre">5,</span> <span class="pre">'left':</span> <span class="pre">1,</span> <span class="pre">'right':</span> <span class="pre">1,</span> <span class="pre">'top':</span> <span class="pre">5}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fontsize</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Sankey</span> <span class="pre">-</span> <span class="pre">D3blocks'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filepath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'sankey.html'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[800,</span> <span class="pre">600]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">showfig</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">notebook</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_button</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_html</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reset_properties</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#d3blocks.d3blocks.D3Blocks.sankey" title="Link to this definition">ï</a></dt>
<dd><p>Sankey block.</p>
<p>A Sankey chart is a visualization to depict a flow from one set of values to another.
The nodes in this case are represented as the rectangle boxes, and the flow or arrows are the links.
The width of the arrow is proportional to the flow rate. Sankeys are best used when you want to show
many-to-many relationships or to discover multiple paths through a set of stages. For example, the traffic
flows from pages to other pages on your website. For demonstration purposes, the âenergyâ and âstormofswordsâ
dataset can be used. The javascript code is forked from Mike Bostock and then Pythonized.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pd.DataFrame</em><em>(</em><em>)</em>) â <dl class="simple">
<dt>Input data containing the following columns:</dt><dd><ul>
<li><p>âsourceâ</p></li>
<li><p>âtargetâ</p></li>
<li><p>âweightâ</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>color</strong> (<em>dict</em><em> or </em><em>None.</em>) â <dl class="simple">
<dt>Dictionary containing node with color information.</dt><dd><p>color={âNuclearâ: â#FF0000â, âWindâ:â#FF0000â}</p>
</dd>
</dl>
</p></li>
<li><p><strong>link</strong> (<em>dict.</em>) â <dl class="simple">
<dt>Dictionary containing edge or link information.</dt><dd><ul>
<li><p>âlinkColorâ : âsourceâ, âtargetâ, âsource-targetâ</p></li>
<li><p>âlinkStrokeOpacityâ : 0.5</p></li>
<li><p>âcolor_staticâ: â#0f0f0fâ or âgreyâ, âblueâ, âredâ etc</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>fontsize</strong> (<em>int</em><em> or </em><em>dict.</em>) â <ul>
<li><p>10 : All nodes get this fontsize</p></li>
<li><p>{âNuclearâ: 10, âWindâ: 20}</p></li>
</ul>
</p></li>
<li><p><strong>margin</strong> (<em>dict.</em>) â <dl class="simple">
<dt>margin, in pixels.</dt><dd><ul>
<li><p>âtopâ : 5</p></li>
<li><p>ârightâ : 1</p></li>
<li><p>âbottomâ : 5</p></li>
<li><p>âleftâ : 1</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>node</strong> (<em>dict.</em>) â <ul>
<li><p>âalignâ : âleftâ, ârightâ, âjustifyâ, âcenterâ</p></li>
<li><p>âwidthâ : 15 (width of the node rectangles)</p></li>
<li><p>âpaddingâ : 15 (vertical seperation between the nodes)</p></li>
<li><p>âcolorâ : âcurrentColorâ, âgreyâ, âblackâ, âredâ, etc</p></li>
</ul>
</p></li>
<li><p><strong>title</strong> (<em>String</em><em>, </em><em>(</em><em>default: None</em><em>)</em>) â <dl class="simple">
<dt>Title of the figure.</dt><dd><ul>
<li><p>âSankeyâ</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>filepath</strong> (<em>String</em><em>, </em><em>(</em><em>Default: user temp directory</em><em>)</em>) â <ul>
<li><p>File path to save the output.</p></li>
<li><p>Temporarily path: âd3blocks.htmlâ</p></li>
<li><p>Relative path: â./d3blocks.htmlâ</p></li>
<li><p>Absolute path: âc://temp//d3blocks.htmlâ</p></li>
<li><p>None: Return HTML</p></li>
</ul>
</p></li>
<li><p><strong>figsize</strong> (<em>tuple</em>) â <dl class="simple">
<dt>Size of the figure in the browser, [width, height].</dt><dd><ul>
<li><p>[800, 600]</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>showfig</strong> (<em>bool</em><em>, </em><em>(</em><em>default: True</em><em>)</em>) â <ul>
<li><p>True: Open browser-window.</p></li>
<li><p>False: Do not open browser-window.</p></li>
</ul>
</p></li>
<li><p><strong>overwrite</strong> (<em>bool</em><em>, </em><em>(</em><em>default: True</em><em>)</em>) â <ul>
<li><p>True: Overwrite the html in the destination directory.</p></li>
<li><p>False: Do not overwrite destination file but show warning instead.</p></li>
</ul>
</p></li>
<li><p><strong>notebook</strong> (<em>bool</em>) â <ul>
<li><p>True: Use IPython to show chart in notebook.</p></li>
<li><p>False: Do not use IPython.</p></li>
</ul>
</p></li>
<li><p><strong>save_button</strong> (<em>bool</em><em>, </em><em>(</em><em>default: True</em><em>)</em>) â <ul>
<li><p>True: Save button is shown in the HTML to save the image in svg.</p></li>
<li><p>False: No save button is shown in the HTML.</p></li>
</ul>
</p></li>
<li><p><strong>return_html</strong> (<em>bool</em><em>, </em><em>(</em><em>default: False</em><em>)</em>) â <ul>
<li><p>True: Return html</p></li>
<li><p>False: Nothing is returned</p></li>
</ul>
</p></li>
<li><p><strong>reset_properties</strong> (<em>bool</em><em>, </em><em>(</em><em>default: True</em><em>)</em>) â <ul>
<li><p>True: Reset the node_properties at each run.</p></li>
<li><p>False: Use the d3.node_properties()</p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>d3.node_properties</strong> (<em>DataFrame of dictionary</em>) â Contains properties of the unique input label/nodes/samples.</p></li>
<li><p><strong>d3.edge_properties</strong> (<em>DataFrame of dictionary</em>) â Contains properties of the unique input edges/links.</p></li>
<li><p><strong>d3.config</strong> (<em>dictionary</em>) â Contains configuration properties.</p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Load d3blocks</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">d3blocks</span><span class="w"> </span><span class="kn">import</span> <span class="n">D3Blocks</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Initialize</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span> <span class="o">=</span> <span class="n">D3Blocks</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Load example data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">d3</span><span class="o">.</span><span class="n">import_example</span><span class="p">(</span><span class="s1">&#39;energy&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Plot</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">sankey</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
</pre></div>
</div>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Adjust node and edge properties</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">d3blocks</span><span class="w"> </span><span class="kn">import</span> <span class="n">D3Blocks</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Initialize</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span> <span class="o">=</span> <span class="n">D3Blocks</span><span class="p">(</span><span class="n">chart</span><span class="o">=</span><span class="s1">&#39;Sankey&#39;</span><span class="p">,</span> <span class="n">frame</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Import example</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">d3</span><span class="o">.</span><span class="n">import_example</span><span class="p">(</span><span class="s1">&#39;energy&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Node properties</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">set_node_properties</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">d3</span><span class="o">.</span><span class="n">node_properties</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">set_edge_properties</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;target&#39;</span><span class="p">,</span> <span class="n">opacity</span><span class="o">=</span><span class="s1">&#39;target&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">d3</span><span class="o">.</span><span class="n">edge_properties</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Show the chart</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create Custom colors</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">d3blocks</span><span class="w"> </span><span class="kn">import</span> <span class="n">D3Blocks</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Initialize</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span> <span class="o">=</span> <span class="n">D3Blocks</span><span class="p">(</span><span class="n">chart</span><span class="o">=</span><span class="s1">&#39;Sankey&#39;</span><span class="p">,</span> <span class="n">frame</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Import example</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">d3</span><span class="o">.</span><span class="n">import_example</span><span class="p">(</span><span class="s1">&#39;energy&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Custom color the nodes</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">html</span> <span class="o">=</span> <span class="n">d3</span><span class="o">.</span><span class="n">sankey</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">copy</span><span class="p">(),</span> <span class="n">filepath</span><span class="o">=</span><span class="sa">r</span><span class="s1">&#39;c://temp//sankey.html&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;Nuclear&#39;</span><span class="p">:</span> <span class="s1">&#39;#FF0000&#39;</span><span class="p">,</span> <span class="s1">&#39;Wind&#39;</span><span class="p">:</span><span class="s1">&#39;#000000&#39;</span><span class="p">,</span> <span class="s1">&#39;Electricity grid&#39;</span><span class="p">:</span><span class="s1">&#39;#FF0000&#39;</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Alternatively:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span> <span class="o">=</span> <span class="n">D3Blocks</span><span class="p">(</span><span class="n">chart</span><span class="o">=</span><span class="s1">&#39;Sankey&#39;</span><span class="p">,</span> <span class="n">frame</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">d3</span><span class="o">.</span><span class="n">import_example</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="s1">&#39;energy&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">set_node_properties</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;Nuclear&#39;</span><span class="p">:</span> <span class="s1">&#39;#FF0000&#39;</span><span class="p">,</span> <span class="s1">&#39;Wind&#39;</span><span class="p">:</span><span class="s1">&#39;#FF0000&#39;</span><span class="p">,</span> <span class="s1">&#39;Electricity grid&#39;</span><span class="p">:</span><span class="s1">&#39;#7FFFD4&#39;</span><span class="p">,</span> <span class="s1">&#39;Bio-conversion&#39;</span><span class="p">:</span><span class="s1">&#39;#000000&#39;</span><span class="p">,</span> <span class="s1">&#39;Industry&#39;</span><span class="p">:</span> <span class="s1">&#39;#000000&#39;</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">set_edge_properties</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;target&#39;</span><span class="p">,</span> <span class="n">opacity</span><span class="o">=</span><span class="s1">&#39;target&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">filepath</span><span class="o">=</span><span class="sa">r</span><span class="s1">&#39;c://temp//sankey.html&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
</pre></div>
</div>
<p class="rubric">References</p>
<ul class="simple">
<li><p><a class="reference external" href="https://d3blocks.github.io/d3blocks/pages/html/Sankey.html">https://d3blocks.github.io/d3blocks/pages/html/Sankey.html</a></p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="d3blocks.d3blocks.D3Blocks.scatter">
<span class="sig-name descname"><span class="pre">scatter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x1</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y1</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x2</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y2</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">jitter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'#002147'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">c_gradient</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'opaque'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">opacity</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.8</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stroke</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'#ffffff'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tooltip</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cmap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'tab20'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color_background</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'#ffffff'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_radio</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['(x,</span> <span class="pre">y)',</span> <span class="pre">'(x1,</span> <span class="pre">y1)',</span> <span class="pre">'(x2,</span> <span class="pre">y2)']</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xlim</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[None,</span> <span class="pre">None]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ylim</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[None,</span> <span class="pre">None]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Scatter</span> <span class="pre">-</span> <span class="pre">D3blocks'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filepath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'scatter.html'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[900,</span> <span class="pre">600]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">showfig</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">notebook</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_button</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_html</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reset_properties</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#d3blocks.d3blocks.D3Blocks.scatter" title="Link to this definition">ï</a></dt>
<dd><p>Scatterplot block.</p>
<p>The scatter plot is perhaps the most well-known chart to plot x, and y coordinates. Basic charts are very
useful from time to time, especially with the brushing and zooming capabilities. The scatter plots can be
sample-wise colored and used to detect relationships between (groups of) variables.
The input data frame should contain 2 columns (x and y) with the coordinates, and the index represents the
class label.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>numpy array</em>) â 1d coordinates x-axis.</p></li>
<li><p><strong>y</strong> (<em>numpy array</em>) â 1d coordinates y-axis.</p></li>
<li><p><strong>x1</strong> (<em>numpy array</em>) â Second set of 1d coordinates x-axis.</p></li>
<li><p><strong>y1</strong> (<em>numpy array</em>) â Second set of 1d coordinates y-axis.</p></li>
<li><p><strong>x2</strong> (<em>numpy array</em>) â Third set of 1d coordinates x-axis.</p></li>
<li><p><strong>y2</strong> (<em>numpy array</em>) â Third set of 1d coordinates y-axis.</p></li>
<li><p><strong>jitter</strong> (<em>float</em><em>, </em><em>default: None</em>) â Add jitter to data points as random normal data. Values of 0.01 is usually good for one-hot data seperation.</p></li>
<li><p><strong>size</strong> (<em>list/array</em><em> of </em><em>with same size as</em><em> (</em><em>x</em><em>,</em><em>y</em><em>)</em><em>.</em>) â Size of the samples.</p></li>
<li><p><strong>color</strong> (<em>list/array</em><em> of </em><em>hex colors with same size as</em><em> (</em><em>x</em><em>,</em><em>y</em><em>)</em>) â <ul>
<li><p>â#ffffffâ : All dots are get the same hex color.</p></li>
<li><p>None: The same color as for c is applied.</p></li>
<li><p>[â#000000â, â#ffffffâ,â¦]: list/array of hex colors with same size as (x,y)</p></li>
</ul>
</p></li>
<li><p><strong>stroke</strong> (<em>list/array</em><em> of </em><em>hex colors with same size as</em><em> (</em><em>x</em><em>,</em><em>y</em><em>)</em>) â <dl class="simple">
<dt>Edgecolor of dotsize in hex colors.</dt><dd><ul>
<li><p>â#000000â : All dots are get the same hex color.</p></li>
<li><p>[â#000000â, â#ffffffâ,â¦]: list/array of hex colors with same size as (x,y)</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>c_gradient</strong> (<em>String</em><em>, </em><em>(</em><em>default: 'opaque'</em><em>)</em>) â <dl class="simple">
<dt>Hex color to make a lineair gradient using the density.</dt><dd><ul>
<li><p>None: Do not use gradient.</p></li>
<li><p>opaque: Towards the edges the points become more transparant. This will stress the dense areas and make scatter plot tidy.</p></li>
<li><p>â#FFFFFFâ: Towards the edges it smooths into this color</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>opacity</strong> (<em>float</em><em> or </em><em>list/array</em><em> [</em><em>0-1</em><em>]</em>) â Opacity of the dot. Shoud be same size as (x,y)</p></li>
<li><p><strong>tooltip</strong> (<em>list</em><em> of </em><em>labels with same size as</em><em> (</em><em>x</em><em>,</em><em>y</em><em>)</em>) â labels of the samples.</p></li>
<li><p><strong>cmap</strong> (<em>String</em><em>, </em><em>(</em><em>default: 'inferno'</em><em>)</em>) â <dl class="simple">
<dt>All colors can be reversed with â_râ, e.g. âbinaryâ to âbinary_râ</dt><dd><ul>
<li><p>âtab20câ, âSet1â, âSet2â, ârainbowâ, âbwrâ, âbinaryâ, âseismicâ, âBluesâ, âRedsâ, âPastel1â, âPairedâ, âtwilightâ, âhsvâ</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>scale</strong> (<em>Bool</em><em>, </em><em>optional</em>) â Scale datapoints. The default is False.</p></li>
<li><p><strong>label_radio</strong> (<em>List</em><em> [</em><em>'</em><em>(</em><em>x</em><em>, </em><em>y</em><em>)</em><em>'</em><em>, </em><em>'</em><em>(</em><em>x1</em><em>, </em><em>y1</em><em>)</em><em>'</em><em>, </em><em>'</em><em>(</em><em>x2</em><em>, </em><em>y2</em><em>)</em><em>'</em><em>]</em>) â The labels used for the radiobuttons.</p></li>
<li><p><strong>set_xlim</strong> (<em>tuple</em><em>, </em><em>(</em><em>default:</em><em> [</em><em>None</em><em>, </em><em>None</em><em>]</em><em>)</em>) â Width of the x-axis: The default is extracted from the data with 10% spacing.</p></li>
<li><p><strong>set_ylim</strong> (<em>tuple</em><em>, </em><em>(</em><em>default:</em><em> [</em><em>None</em><em>, </em><em>None</em><em>]</em><em>)</em>) â Height of the y-axis: The default is extracted from the data with 10% spacing.</p></li>
<li><p><strong>title</strong> (<em>String</em><em>, </em><em>(</em><em>default: None</em><em>)</em>) â <dl class="simple">
<dt>Title of the figure.</dt><dd><ul>
<li><p>âScatterplotâ</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>filepath</strong> (<em>String</em><em>, </em><em>(</em><em>Default: user temp directory</em><em>)</em>) â <dl class="simple">
<dt>File path to save the output.</dt><dd><ul>
<li><p>Temporarily path: âd3blocks.htmlâ</p></li>
<li><p>Relative path: â./d3blocks.htmlâ</p></li>
<li><p>Absolute path: âc://temp//d3blocks.htmlâ</p></li>
<li><p>None: Return HTML</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>figsize</strong> (<em>tuple</em>) â <dl class="simple">
<dt>Size of the figure in the browser, [width, height].</dt><dd><ul>
<li><p>[900, 600]</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>showfig</strong> (<em>bool</em><em>, </em><em>(</em><em>default: True</em><em>)</em>) â <ul>
<li><p>True: Open browser-window.</p></li>
<li><p>False: Do not open browser-window.</p></li>
</ul>
</p></li>
<li><p><strong>overwrite</strong> (<em>bool</em><em>, </em><em>(</em><em>default: True</em><em>)</em>) â <ul>
<li><p>True: Overwrite the html in the destination directory.</p></li>
<li><p>False: Do not overwrite destination file but show warning instead.</p></li>
</ul>
</p></li>
<li><p><strong>notebook</strong> (<em>bool</em>) â <ul>
<li><p>True: Use IPython to show chart in notebook.</p></li>
<li><p>False: Do not use IPython.</p></li>
</ul>
</p></li>
<li><p><strong>save_button</strong> (<em>bool</em><em>, </em><em>(</em><em>default: True</em><em>)</em>) â <ul>
<li><p>True: Save button is shown in the HTML to save the image in svg.</p></li>
<li><p>False: No save button is shown in the HTML.</p></li>
</ul>
</p></li>
<li><p><strong>return_html</strong> (<em>bool</em><em>, </em><em>(</em><em>default: False</em><em>)</em>) â <ul>
<li><p>True: Return html</p></li>
<li><p>False: Nothing is returned</p></li>
</ul>
</p></li>
<li><p><strong>reset_properties</strong> (<em>bool</em><em>, </em><em>(</em><em>default: True</em><em>)</em>) â <ul>
<li><p>True: Reset the node_properties at each run.</p></li>
<li><p>False: Use the d3.node_properties()</p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>d3.node_properties</strong> (<em>DataFrame of dictionary</em>) â Contains properties of the unique input label/nodes/samples.</p></li>
<li><p><strong>d3.edge_properties</strong> (<em>DataFrame of dictionary</em>) â Contains properties of the unique input edges/links.</p></li>
<li><p><strong>d3.config</strong> (<em>dictionary</em>) â Contains configuration properties.</p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Load d3blocks</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">d3blocks</span><span class="w"> </span><span class="kn">import</span> <span class="n">D3Blocks</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Initialize</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span> <span class="o">=</span> <span class="n">D3Blocks</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Load example data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">d3</span><span class="o">.</span><span class="n">import_example</span><span class="p">(</span><span class="s1">&#39;cancer&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Set size and tooltip</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">size</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;survival_months&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">values</span> <span class="o">/</span> <span class="mi">20</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tooltip</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;labx&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span> <span class="o">+</span> <span class="s1">&#39; &lt;br /&gt; Survival: &#39;</span> <span class="o">+</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;survival_months&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Scatter plot</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;tsneX&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">,</span>
<span class="go">               df[&#39;tsneY&#39;].values,</span>
<span class="go">               size=size,</span>
<span class="go">               color=df[&#39;labx&#39;].values,</span>
<span class="go">               stroke=&#39;#000000&#39;,</span>
<span class="go">               opacity=0.4,</span>
<span class="go">               tooltip=tooltip,</span>
<span class="go">               filepath=&#39;scatter_demo.html&#39;,</span>
<span class="go">               cmap=&#39;tab20&#39;)</span>
</pre></div>
</div>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Scatter plot with transitions. Note that scale is set to True to make the axis comparible to each other</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;tsneX&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">,</span>
<span class="go">               df[&#39;tsneY&#39;].values,</span>
<span class="go">               x1=df[&#39;PC1&#39;].values,</span>
<span class="go">               y1=df[&#39;PC2&#39;].values,</span>
<span class="go">               label_radio=[&#39;tSNE&#39;, &#39;PCA&#39;],</span>
<span class="go">               scale=True,</span>
<span class="go">               size=size,</span>
<span class="go">               color=df[&#39;labx&#39;].values,</span>
<span class="go">               stroke=&#39;#000000&#39;,</span>
<span class="go">               opacity=0.4,</span>
<span class="go">               tooltip=tooltip,</span>
<span class="go">               filepath=&#39;scatter_transitions2.html&#39;,</span>
<span class="go">               cmap=&#39;tab20&#39;)</span>
</pre></div>
</div>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Scatter plot with transitions. Note that scale is set to True to make the axis comparible to each other</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;tsneX&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">,</span>
<span class="go">               df[&#39;tsneY&#39;].values,</span>
<span class="go">               x1=df[&#39;PC1&#39;].values,</span>
<span class="go">               y1=df[&#39;PC2&#39;].values,</span>
<span class="go">               x2=df[&#39;PC2&#39;].values,</span>
<span class="go">               y2=df[&#39;PC1&#39;].values,</span>
<span class="go">               label_radio=[&#39;tSNE&#39;, &#39;PCA&#39;, &#39;PCA_reverse&#39;],</span>
<span class="go">               scale=True,</span>
<span class="go">               size=size,</span>
<span class="go">               color=df[&#39;labx&#39;].values,</span>
<span class="go">               stroke=&#39;#000000&#39;,</span>
<span class="go">               opacity=0.4,</span>
<span class="go">               tooltip=tooltip,</span>
<span class="go">               filepath=&#39;scatter_transitions3.html&#39;,</span>
<span class="go">               cmap=&#39;tab20&#39;)</span>
</pre></div>
</div>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Load d3blocks</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">d3blocks</span><span class="w"> </span><span class="kn">import</span> <span class="n">D3Blocks</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Initialize</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span> <span class="o">=</span> <span class="n">D3Blocks</span><span class="p">(</span><span class="n">chart</span><span class="o">=</span><span class="s1">&#39;Scatter&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Import example</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">d3</span><span class="o">.</span><span class="n">import_example</span><span class="p">(</span><span class="s1">&#39;cancer&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Set properties</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">set_edge_properties</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;tsneX&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">,</span>
<span class="go">                           df[&#39;tsneY&#39;].values,</span>
<span class="go">                           x1=df[&#39;PC1&#39;].values,</span>
<span class="go">                           y1=df[&#39;PC2&#39;].values,</span>
<span class="go">                           label_radio=[&#39;tSNE&#39;,&#39;PCA&#39;],</span>
<span class="go">                           size=df[&#39;survival_months&#39;].fillna(1).values / 10,</span>
<span class="go">                           color=df[&#39;labx&#39;].values,</span>
<span class="go">                           tooltip=df[&#39;labx&#39;].values + &#39; &lt;br /&gt; Survival: &#39; + df[&#39;survival_months&#39;].astype(str).str[0:4].values,</span>
<span class="go">                           scale=True)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Show the chart</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Set specific node properties.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">d3</span><span class="o">.</span><span class="n">edge_properties</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">edge_properties</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="s1">&#39;size&#39;</span><span class="p">]</span><span class="o">=</span><span class="mi">50</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">edge_properties</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="s1">&#39;color&#39;</span><span class="p">]</span><span class="o">=</span><span class="s1">&#39;#000000&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">edge_properties</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="s1">&#39;tooltip&#39;</span><span class="p">]</span><span class="o">=</span><span class="s1">&#39;I am adjusted!&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Configuration can be changed too.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">d3</span><span class="o">.</span><span class="n">config</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Show the chart again with adjustments</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p class="rubric">References</p>
<ul class="simple">
<li><p><a class="reference external" href="https://d3blocks.github.io/d3blocks/pages/html/Scatter.html">https://d3blocks.github.io/d3blocks/pages/html/Scatter.html</a></p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="d3blocks.d3blocks.D3Blocks.set_config">
<span class="sig-name descname"><span class="pre">set_config</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#d3blocks.d3blocks.D3Blocks.set_config" title="Link to this definition">ï</a></dt>
<dd><p>Set the general configuration setting.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="d3blocks.d3blocks.D3Blocks.set_edge_properties">
<span class="sig-name descname"><span class="pre">set_edge_properties</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#d3blocks.d3blocks.D3Blocks.set_edge_properties" title="Link to this definition">ï</a></dt>
<dd><p>Set edge properties.</p>
<p>The input for edge properties are the arguments that are inherited from the chart-function. As an example, the
edge properties for the scatter chart are those described in the scatter function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pd.DataFrame</em><em>(</em><em>)</em>) â <dl class="simple">
<dt>Input data containing the following columns:</dt><dd><ul>
<li><p>âsourceâ</p></li>
<li><p>âtargetâ</p></li>
<li><p>âweightâ</p></li>
<li><p>âcolorâ (optional)</p></li>
<li><p>âopacityâ  (optional)</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>color</strong> (<em>Union</em><em>[</em><em>float</em><em>, </em><em>List</em><em>[</em><em>float</em><em>]</em><em>]</em><em>, </em><em>optional</em>) â <dl class="simple">
<dt>Link colors in Hex notation. Should be the same size as input DataFrame.</dt><dd><ul>
<li><p>None : âcmapâ is used to create colors.</p></li>
<li><p>âsourceâ: Color edges/links similar to that of source-color node.</p></li>
<li><p>âtargetâ: Color edges/links similar to that of target-color node.</p></li>
<li><p>âsource-targetâ: Color edges/link based on unique source-target edges using the colormap.</p></li>
<li><p>â#ffffffâ: All links have the same hex color.</p></li>
<li><p>[â#000000â, â#ffffffâ,â¦]: Define per link.</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>opacity</strong> (<em>float</em><em> or </em><em>list/array</em><em> [</em><em>0..1</em><em>] </em><em>(</em><em>default: None</em><em>)</em>) â <dl class="simple">
<dt>Link Opacity. Should be the same size as input DataFrame.</dt><dd><ul>
<li><p>âsourceâ: Opacity of edges/links similar to that of source-opacity node.</p></li>
<li><p>âtargetâ: Opacity of edges/links similar to that of target-opacity node.</p></li>
<li><p>0.8: All links have the same opacity.</p></li>
<li><p>[0.1, 0.75,â¦]: Set opacity per edge/link.</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>cmap</strong> (<em>String</em><em>, </em><em>(</em><em>default: 'tab20'</em><em>)</em>) â <p>colormap is only used in case color=None.
All colors can be reversed with â_râ, e.g. âbinaryâ to âbinary_râ</p>
<blockquote>
<div><ul>
<li><p>âtab20câ, âSet1â, âSet2â, ârainbowâ, âbwrâ, âbinaryâ, âseismicâ, âBluesâ, âRedsâ, âPastel1â, âPairedâ, âtwilightâ, âhsvâ</p></li>
</ul>
</div></blockquote>
</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="d3blocks.d3blocks.D3Blocks.set_node_properties">
<span class="sig-name descname"><span class="pre">set_node_properties</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#d3blocks.d3blocks.D3Blocks.set_node_properties" title="Link to this definition">ï</a></dt>
<dd><p>Set label properties.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>labels</strong> (<em>array-like</em><em> (</em><em>default: None</em><em>)</em>) â <dl class="simple">
<dt>The unique names of the nodes/labels.</dt><dd><ul class="simple">
<li><p>In case of pd.DataFrame, the âsourceâ and âtargetâ columns are used.</p></li>
</ul>
</dd>
</dl>
</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>labels</strong> â Dictionary containing class information.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict()</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="d3blocks.d3blocks.D3Blocks.show">
<span class="sig-name descname"><span class="pre">show</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#d3blocks.d3blocks.D3Blocks.show" title="Link to this definition">ï</a></dt>
<dd><p>Build and show the graph.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>figsize</strong> (<em>tuple</em>) â Size of the figure in the browser, [height, width].</p></li>
<li><p><strong>title</strong> (<em>String</em><em>, </em><em>(</em><em>default: None</em><em>)</em>) â Title of the figure.</p></li>
<li><p><strong>filepath</strong> (<em>String</em><em>, </em><em>(</em><em>Default: user temp directory</em><em>)</em>) â <dl class="simple">
<dt>File path to save the output.</dt><dd><ul>
<li><p>Temporarily path: âd3blocks.htmlâ</p></li>
<li><p>Relative path: â./d3blocks.htmlâ</p></li>
<li><p>Absolute path: âc://temp//d3blocks.htmlâ</p></li>
<li><p>None: Return HTML</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>showfig</strong> (<em>bool</em>) â <ul>
<li><p>True: Open the browser and show chart.</p></li>
<li><p>False: Do not open browser.</p></li>
</ul>
</p></li>
<li><p><strong>notebook</strong> (<em>bool</em>) â <ul>
<li><p>True: Use IPython to show chart in notebooks.</p></li>
<li><p>False: Do not use IPython.</p></li>
</ul>
</p></li>
<li><p><strong>kwargs</strong> (<em>Various</em>) â Other options are possible depending on the chart that is being used.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="d3blocks.d3blocks.D3Blocks.timeseries">
<span class="sig-name descname"><span class="pre">timeseries</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">datetime</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'datetime'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dt_format</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'%d-%m-%Y</span> <span class="pre">%H:%M:%S'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sort_on_date</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">whitelist</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fontsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cmap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Set1'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Timeseries</span> <span class="pre">-</span> <span class="pre">D3blocks'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filepath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'timeseries.html'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[1200,</span> <span class="pre">500]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">showfig</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">notebook</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_button</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_html</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reset_properties</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#d3blocks.d3blocks.D3Blocks.timeseries" title="Link to this definition">ï</a></dt>
<dd><p>Timeseries block.</p>
<p>The TimeSeries can be used in case a date-time element is available, and where the time-wise values
directly follow up with each other. The TimeSeries block supports enabling/disabling columns of interest,
brushing and zooming to quickly focus on regions of interest or plot specific features, such as stocks together
in a single chart.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pd.DataFrame</em><em>(</em><em>)</em>) â Input data containing the columns âdatetimeâ together with the names of the timeseries to plot.</p></li>
<li><p><strong>datetime</strong> (<em>str</em><em>, </em><em>(</em><em>default: None</em><em>)</em>) â Column name that contains the datetime.</p></li>
<li><p><strong>dt_format</strong> (<em>str</em>) â <dl class="simple">
<dt>Date time format.</dt><dd><ul>
<li><p>â%d-%m-%Y %H:%M:%Sâ.</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>sort_on_date</strong> (<em>Bool</em><em> (</em><em>default: True</em><em>)</em>) â <dl class="simple">
<dt>Sort on date.</dt><dd><ul>
<li><p>True: Sort on datetime.</p></li>
<li><p>False: Do not change the input order.</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>whitelist</strong> (<em>str</em><em>, </em><em>optional</em>) â Keep only columns containing this (sub)string (case insensitive)</p></li>
<li><p><strong>fontsize</strong> (<em>int</em><em>, </em><em>(</em><em>default: 14</em><em>)</em>) â Fontsize of the fonts in the circle.</p></li>
<li><p><strong>cmap</strong> (<em>String</em><em>, </em><em>(</em><em>default: 'Set1'</em><em>)</em>) â <dl class="simple">
<dt>All colors can be reversed with â_râ, e.g. âbinaryâ to âbinary_râ</dt><dd><ul>
<li><p>âtab20câ, âSet1â, âSet2â, ârainbowâ, âbwrâ, âbinaryâ, âseismicâ, âBluesâ, âRedsâ, âPastel1â, âPairedâ, âtwilightâ, âhsvâ, âinfernoâ</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>title</strong> (<em>String</em><em>, </em><em>(</em><em>default: None</em><em>)</em>) â <dl class="simple">
<dt>Title of the figure.</dt><dd><ul>
<li><p>âTimeseriesâ</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>filepath</strong> (<em>String</em><em>, </em><em>(</em><em>Default: user temp directory</em><em>)</em>) â <dl class="simple">
<dt>File path to save the output.</dt><dd><ul>
<li><p>Temporarily path: âd3blocks.htmlâ</p></li>
<li><p>Relative path: â./d3blocks.htmlâ</p></li>
<li><p>Absolute path: âc://temp//d3blocks.htmlâ</p></li>
<li><p>None: Return HTML</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>figsize</strong> (<em>tuple</em>) â <dl class="simple">
<dt>Size of the figure in the browser, [width, height].</dt><dd><ul>
<li><p>[1200, 500]</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>showfig</strong> (<em>bool</em><em>, </em><em>(</em><em>default: True</em><em>)</em>) â <ul>
<li><p>True: Open browser-window.</p></li>
<li><p>False: Do not open browser-window.</p></li>
</ul>
</p></li>
<li><p><strong>overwrite</strong> (<em>bool</em><em>, </em><em>(</em><em>default: True</em><em>)</em>) â <ul>
<li><p>True: Overwrite the html in the destination directory.</p></li>
<li><p>False: Do not overwrite destination file but show warning instead.</p></li>
</ul>
</p></li>
<li><p><strong>notebook</strong> (<em>bool</em>) â <ul>
<li><p>True: Use IPython to show chart in notebook.</p></li>
<li><p>False: Do not use IPython.</p></li>
</ul>
</p></li>
<li><p><strong>save_button</strong> (<em>bool</em><em>, </em><em>(</em><em>default: True</em><em>)</em>) â <ul>
<li><p>True: Save button is shown in the HTML to save the image in svg.</p></li>
<li><p>False: No save button is shown in the HTML.</p></li>
</ul>
</p></li>
<li><p><strong>return_html</strong> (<em>bool</em><em>, </em><em>(</em><em>default: False</em><em>)</em>) â <ul>
<li><p>True: Return html</p></li>
<li><p>False: Nothing is returned</p></li>
</ul>
</p></li>
<li><p><strong>reset_properties</strong> (<em>bool</em><em>, </em><em>(</em><em>default: True</em><em>)</em>) â <ul>
<li><p>True: Reset the node_properties at each run.</p></li>
<li><p>False: Use the d3.node_properties()</p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>d3.node_properties</strong> (<em>DataFrame of dictionary</em>) â Contains properties of the unique input label/nodes/samples.</p></li>
<li><p><strong>d3.edge_properties</strong> (<em>DataFrame of dictionary</em>) â Contains properties of the unique input edges/links.</p></li>
<li><p><strong>d3.config</strong> (<em>dictionary</em>) â Contains configuration properties.</p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Import</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">d3blocks</span><span class="w"> </span><span class="kn">import</span> <span class="n">D3Blocks</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Initialize</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span> <span class="o">=</span> <span class="n">D3Blocks</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Import example</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">d3</span><span class="o">.</span><span class="n">import_example</span><span class="p">(</span><span class="s1">&#39;climate&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Show</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">timeseries</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">datetime</span><span class="o">=</span><span class="s1">&#39;date&#39;</span><span class="p">,</span> <span class="n">dt_format</span><span class="o">=</span><span class="s1">&#39;%Y-%m-</span><span class="si">%d</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">[</span><span class="mi">850</span><span class="p">,</span> <span class="mi">500</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
</pre></div>
</div>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Load d3blocks</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">d3blocks</span><span class="w"> </span><span class="kn">import</span> <span class="n">D3Blocks</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Initialize</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span> <span class="o">=</span> <span class="n">D3Blocks</span><span class="p">(</span><span class="n">chart</span><span class="o">=</span><span class="s1">&#39;Timeseries&#39;</span><span class="p">,</span> <span class="n">frame</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Import example</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">d3</span><span class="o">.</span><span class="n">import_example</span><span class="p">(</span><span class="s1">&#39;climate&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Node properties</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">set_node_properties</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">node_properties</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;wind_speed&#39;</span><span class="p">)[</span><span class="s1">&#39;color&#39;</span><span class="p">]</span><span class="o">=</span><span class="s1">&#39;#000000&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">d3</span><span class="o">.</span><span class="n">node_properties</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">set_edge_properties</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">datetime</span><span class="o">=</span><span class="s1">&#39;date&#39;</span><span class="p">,</span> <span class="n">dt_format</span><span class="o">=</span><span class="s1">&#39;%Y-%m-</span><span class="si">%d</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">edge_properties</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Show</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">&#39;Timeseries with adjusted configurations&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
</pre></div>
</div>
<p class="rubric">References</p>
<ul class="simple">
<li><p><a class="reference external" href="https://d3blocks.github.io/d3blocks/pages/html/Timeseries.html">https://d3blocks.github.io/d3blocks/pages/html/Timeseries.html</a></p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="d3blocks.d3blocks.D3Blocks.tree">
<span class="sig-name descname"><span class="pre">tree</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hierarchy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[1,</span> <span class="pre">2,</span> <span class="pre">3,</span> <span class="pre">4,</span> <span class="pre">5,</span> <span class="pre">6,</span> <span class="pre">7,</span> <span class="pre">8]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">margin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{'bottom':</span> <span class="pre">20,</span> <span class="pre">'left':</span> <span class="pre">60,</span> <span class="pre">'right':</span> <span class="pre">80,</span> <span class="pre">'top':</span> <span class="pre">20}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">font</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{'size':</span> <span class="pre">10}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'Tree</span> <span class="pre">-</span> <span class="pre">D3blocks'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filepath</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'tree.html'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[960,</span> <span class="pre">700]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">showfig</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">notebook</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_button</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_html</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reset_properties</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#d3blocks.d3blocks.D3Blocks.tree" title="Link to this definition">ï</a></dt>
<dd><p>Tree block.</p>
<p>A Tree chart is a visualization to hierarchically show the data.
For demonstration purposes, the âenergyâ dataset can be used.
The javascript code is forked from Mike Bostock, inspired by R-Shiny and then Pythonized.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pd.DataFrame</em><em>(</em><em>)</em>) â <dl class="simple">
<dt>Input data containing the following columns:</dt><dd><ul>
<li><p>âsourceâ, âtargetâ, âweightâ</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>hierarchy</strong> (<em>list</em>) â Expand or substract the hierarchical structure. No information is lossed. The eight branches are shown by default.
* [1, 2, 3, 4, 5, 6, 7, 8]</p></li>
<li><p><strong>margin</strong> (<em>dict.</em>) â <dl class="simple">
<dt>margin, in pixels.</dt><dd><ul>
<li><p>{âtopâ: 40, ârightâ: 10, âbottomâ: 10, âleftâ: 10}</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>font</strong> (<em>dict.</em>) â <dl class="simple">
<dt>font properties.</dt><dd><ul>
<li><p>{âsizeâ: 10}</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>title</strong> (<em>String</em><em>, </em><em>(</em><em>default: None</em><em>)</em>) â <dl class="simple">
<dt>Title of the figure.</dt><dd><ul>
<li><p>âTreemapâ</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>filepath</strong> (<em>String</em><em>, </em><em>(</em><em>Default: user temp directory</em><em>)</em>) â <ul>
<li><p>File path to save the output.</p></li>
<li><p>Temporarily path: âd3blocks.htmlâ</p></li>
<li><p>Relative path: â./d3blocks.htmlâ</p></li>
<li><p>Absolute path: âc://temp//d3blocks.htmlâ</p></li>
<li><p>None: Return HTML</p></li>
</ul>
</p></li>
<li><p><strong>figsize</strong> (<em>tuple</em>) â <dl class="simple">
<dt>Size of the figure in the browser, [width, height].</dt><dd><ul>
<li><p>[1000, 600]</p></li>
<li><p>[None, None]: Use the screen resolution.</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>showfig</strong> (<em>bool</em><em>, </em><em>(</em><em>default: True</em><em>)</em>) â <ul>
<li><p>True: Open browser-window.</p></li>
<li><p>False: Do not open browser-window.</p></li>
</ul>
</p></li>
<li><p><strong>overwrite</strong> (<em>bool</em><em>, </em><em>(</em><em>default: True</em><em>)</em>) â <ul>
<li><p>True: Overwrite the html in the destination directory.</p></li>
<li><p>False: Do not overwrite destination file but show warning instead.</p></li>
</ul>
</p></li>
<li><p><strong>notebook</strong> (<em>bool</em>) â <ul>
<li><p>True: Use IPython to show chart in notebook.</p></li>
<li><p>False: Do not use IPython.</p></li>
</ul>
</p></li>
<li><p><strong>save_button</strong> (<em>bool</em><em>, </em><em>(</em><em>default: True</em><em>)</em>) â <ul>
<li><p>True: Save button is shown in the HTML to save the image in svg.</p></li>
<li><p>False: No save button is shown in the HTML.</p></li>
</ul>
</p></li>
<li><p><strong>return_html</strong> (<em>bool</em><em>, </em><em>(</em><em>default: False</em><em>)</em>) â <ul>
<li><p>True: Return html</p></li>
<li><p>False: Nothing is returned</p></li>
</ul>
</p></li>
<li><p><strong>reset_properties</strong> (<em>bool</em><em>, </em><em>(</em><em>default: True</em><em>)</em>) â <ul>
<li><p>True: Reset the node_properties at each run.</p></li>
<li><p>False: Use the d3.node_properties()</p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>d3.node_properties</strong> (<em>DataFrame of dictionary</em>) â Contains properties of the unique input label/nodes/samples.</p></li>
<li><p><strong>d3.edge_properties</strong> (<em>DataFrame of dictionary</em>) â Contains properties of the unique input edges/links.</p></li>
<li><p><strong>d3.config</strong> (<em>dictionary</em>) â Contains configuration properties.</p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Load d3blocks</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">d3blocks</span><span class="w"> </span><span class="kn">import</span> <span class="n">D3Blocks</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Initialize</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span> <span class="o">=</span> <span class="n">D3Blocks</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Load example data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">d3</span><span class="o">.</span><span class="n">import_example</span><span class="p">(</span><span class="s1">&#39;energy&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Plot</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">tree</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
</pre></div>
</div>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Load library</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">d3blocks</span><span class="w"> </span><span class="kn">import</span> <span class="n">D3Blocks</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Initialize</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span> <span class="o">=</span> <span class="n">D3Blocks</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="s1">&#39;info&#39;</span><span class="p">,</span> <span class="n">chart</span><span class="o">=</span><span class="s1">&#39;tree&#39;</span><span class="p">,</span> <span class="n">frame</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Import example</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">d3</span><span class="o">.</span><span class="n">import_example</span><span class="p">(</span><span class="s1">&#39;energy&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Set node properties</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">set_node_properties</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Set specific properties</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">node_properties</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;Bio-conversion&#39;</span><span class="p">)[</span><span class="s1">&#39;size&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">30</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">node_properties</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;Bio-conversion&#39;</span><span class="p">)[</span><span class="s1">&#39;color&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;#000000&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">node_properties</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;Bio-conversion&#39;</span><span class="p">)[</span><span class="s1">&#39;tooltip&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;Title: P Operations&lt;br&gt;&lt;img src=&quot;https://source.unsplash.com/collection/385548/150x100&quot;&gt;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">node_properties</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;Bio-conversion&#39;</span><span class="p">)[</span><span class="s1">&#39;edge_color&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;#00FFFF&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">node_properties</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;Bio-conversion&#39;</span><span class="p">)[</span><span class="s1">&#39;edge_size&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">node_properties</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;Bio-conversion&#39;</span><span class="p">)[</span><span class="s1">&#39;opacity&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.4</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Set properties for Losses</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">node_properties</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;Losses&#39;</span><span class="p">)[</span><span class="s1">&#39;color&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;#FF0000&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">node_properties</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;Losses&#39;</span><span class="p">)[</span><span class="s1">&#39;size&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">15</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">node_properties</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;Losses&#39;</span><span class="p">)[</span><span class="s1">&#39;tooltip&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Set properties for Agriculture</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">node_properties</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;Agriculture&#39;</span><span class="p">)[</span><span class="s1">&#39;color&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;#00FFFF&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">node_properties</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;Agriculture&#39;</span><span class="p">)[</span><span class="s1">&#39;size&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">node_properties</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;Agriculture&#39;</span><span class="p">)[</span><span class="s1">&#39;edge_color&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;#89CFF0&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">node_properties</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;Agriculture&#39;</span><span class="p">)[</span><span class="s1">&#39;edge_size&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">node_properties</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;Agriculture&#39;</span><span class="p">)[</span><span class="s1">&#39;opacity&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.7</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Set edge properties</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">set_edge_properties</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Show chart</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">hierarchy</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">],</span> <span class="n">filepath</span><span class="o">=</span><span class="sa">r</span><span class="s1">&#39;c://temp//tree.html&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Load d3blocks</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">d3blocks</span><span class="w"> </span><span class="kn">import</span> <span class="n">D3Blocks</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Initialize</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span> <span class="o">=</span> <span class="n">D3Blocks</span><span class="p">(</span><span class="n">chart</span><span class="o">=</span><span class="s1">&#39;tree&#39;</span><span class="p">,</span> <span class="n">frame</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Import example</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">d3</span><span class="o">.</span><span class="n">import_example</span><span class="p">(</span><span class="s1">&#39;energy&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Node properties</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">set_node_properties</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">d3</span><span class="o">.</span><span class="n">node_properties</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">set_edge_properties</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">d3</span><span class="o">.</span><span class="n">edge_properties</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Show the chart</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p class="rubric">References</p>
<ul class="simple">
<li><p><a class="reference external" href="https://d3js.org/d3-hierarchy/tree">https://d3js.org/d3-hierarchy/tree</a></p></li>
<li><p><a class="reference external" href="https://d3blocks.github.io/d3blocks/pages/html/Tree.html">https://d3blocks.github.io/d3blocks/pages/html/Tree.html</a></p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="d3blocks.d3blocks.D3Blocks.treemap">
<span class="sig-name descname"><span class="pre">treemap</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">margin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{'bottom':</span> <span class="pre">10,</span> <span class="pre">'left':</span> <span class="pre">10,</span> <span class="pre">'right':</span> <span class="pre">10,</span> <span class="pre">'top':</span> <span class="pre">40}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">border</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{'color':</span> <span class="pre">'#FFFFFF',</span> <span class="pre">'type':</span> <span class="pre">'solid',</span> <span class="pre">'width':</span> <span class="pre">1}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">font</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{'position':</span> <span class="pre">'absolute',</span> <span class="pre">'size':</span> <span class="pre">10,</span> <span class="pre">'type':</span> <span class="pre">'sans-serif'}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'Treemap</span> <span class="pre">-</span> <span class="pre">D3blocks'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filepath</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'treemap.html'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[1000,</span> <span class="pre">600]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">showfig</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">notebook</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_html</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reset_properties</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#d3blocks.d3blocks.D3Blocks.treemap" title="Link to this definition">ï</a></dt>
<dd><p>Treemap block.</p>
<p>A Treemap chart is a visualization to hierarchically show the data as a set of nested rectangles.
For demonstration purposes, the âenergyâ and âstormofswordsâ dataset can be used.
The javascript code is forked from Mike Bostock and then Pythonized.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pd.DataFrame</em><em>(</em><em>)</em>) â <dl class="simple">
<dt>Input data containing the following columns:</dt><dd><ul>
<li><p>âsourceâ, âtargetâ, âweightâ</p></li>
<li><p>âlevel0â, âlevel1â, âlevel2â, âweightâ</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>margin</strong> (<em>dict.</em>) â <dl class="simple">
<dt>margin, in pixels.</dt><dd><ul>
<li><p>{âtopâ: 40, ârightâ: 10, âbottomâ: 10, âleftâ: 10}</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>border</strong> (<em>dict.</em>) â <dl class="simple">
<dt>border properties.</dt><dd><ul>
<li><p>{âtypeâ: âsolidâ, âcolorâ: â#FFFFFFâ, âwidthâ: 1}</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>font</strong> (<em>dict.</em>) â <dl class="simple">
<dt>font properties.</dt><dd><ul>
<li><p>{âsizeâ: 10, âtypeâ:âsans-serifâ, âpositionâ: âabsoluteâ}</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>title</strong> (<em>String</em><em>, </em><em>(</em><em>default: None</em><em>)</em>) â <dl class="simple">
<dt>Title of the figure.</dt><dd><ul>
<li><p>âTreemapâ</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>filepath</strong> (<em>String</em><em>, </em><em>(</em><em>Default: user temp directory</em><em>)</em>) â <ul>
<li><p>File path to save the output.</p></li>
<li><p>Temporarily path: âd3blocks.htmlâ</p></li>
<li><p>Relative path: â./d3blocks.htmlâ</p></li>
<li><p>Absolute path: âc://temp//d3blocks.htmlâ</p></li>
<li><p>None: Return HTML</p></li>
</ul>
</p></li>
<li><p><strong>figsize</strong> (<em>tuple</em>) â <dl class="simple">
<dt>Size of the figure in the browser, [width, height].</dt><dd><ul>
<li><p>[1000, 600]</p></li>
<li><p>[None, None]: Use the screen resolution.</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>showfig</strong> (<em>bool</em><em>, </em><em>(</em><em>default: True</em><em>)</em>) â <ul>
<li><p>True: Open browser-window.</p></li>
<li><p>False: Do not open browser-window.</p></li>
</ul>
</p></li>
<li><p><strong>overwrite</strong> (<em>bool</em><em>, </em><em>(</em><em>default: True</em><em>)</em>) â <ul>
<li><p>True: Overwrite the html in the destination directory.</p></li>
<li><p>False: Do not overwrite destination file but show warning instead.</p></li>
</ul>
</p></li>
<li><p><strong>notebook</strong> (<em>bool</em>) â <ul>
<li><p>True: Use IPython to show chart in notebook.</p></li>
<li><p>False: Do not use IPython.</p></li>
</ul>
</p></li>
<li><p><strong>save_button</strong> (<em>bool</em><em>, </em><em>(</em><em>default: True</em><em>)</em>) â <ul>
<li><p>True: Save button is shown in the HTML to save the image in svg.</p></li>
<li><p>False: No save button is shown in the HTML.</p></li>
</ul>
</p></li>
<li><p><strong>return_html</strong> (<em>bool</em><em>, </em><em>(</em><em>default: False</em><em>)</em>) â <ul>
<li><p>True: Return html</p></li>
<li><p>False: Nothing is returned</p></li>
</ul>
</p></li>
<li><p><strong>reset_properties</strong> (<em>bool</em><em>, </em><em>(</em><em>default: True</em><em>)</em>) â <ul>
<li><p>True: Reset the node_properties at each run.</p></li>
<li><p>False: Use the d3.node_properties()</p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>d3.node_properties</strong> (<em>DataFrame of dictionary</em>) â Contains properties of the unique input label/nodes/samples.</p></li>
<li><p><strong>d3.edge_properties</strong> (<em>DataFrame of dictionary</em>) â Contains properties of the unique input edges/links.</p></li>
<li><p><strong>d3.config</strong> (<em>dictionary</em>) â Contains configuration properties.</p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Load d3blocks</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">d3blocks</span><span class="w"> </span><span class="kn">import</span> <span class="n">D3Blocks</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Initialize</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span> <span class="o">=</span> <span class="n">D3Blocks</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Load example data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">d3</span><span class="o">.</span><span class="n">import_example</span><span class="p">(</span><span class="s1">&#39;energy&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">d3</span><span class="o">.</span><span class="n">import_example</span><span class="p">(</span><span class="s1">&#39;animals&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Plot</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">treemap</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
</pre></div>
</div>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Load d3blocks</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">d3blocks</span><span class="w"> </span><span class="kn">import</span> <span class="n">D3Blocks</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Initialize</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span> <span class="o">=</span> <span class="n">D3Blocks</span><span class="p">(</span><span class="n">chart</span><span class="o">=</span><span class="s1">&#39;Treemap&#39;</span><span class="p">,</span> <span class="n">frame</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Import example</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">d3</span><span class="o">.</span><span class="n">import_example</span><span class="p">(</span><span class="s1">&#39;energy&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Node properties</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">set_node_properties</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">d3</span><span class="o">.</span><span class="n">node_properties</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">set_edge_properties</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">d3</span><span class="o">.</span><span class="n">edge_properties</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Show the chart</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Add tooltip</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Intialize Treemap</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">d3blocks</span><span class="w"> </span><span class="kn">import</span> <span class="n">D3Blocks</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span> <span class="o">=</span> <span class="n">D3Blocks</span><span class="p">(</span><span class="n">chart</span><span class="o">=</span><span class="s1">&#39;treemap&#39;</span><span class="p">,</span> <span class="n">frame</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Import example</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">d3</span><span class="o">.</span><span class="n">import_example</span><span class="p">(</span><span class="s1">&#39;energy&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Set node properties</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">set_node_properties</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Set tooltip for specific nodes</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">node_properties</span><span class="p">[</span><span class="s1">&#39;Bio-conversion&#39;</span><span class="p">][</span><span class="s1">&#39;tooltip&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;Title: Bio conversion Operations&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">node_properties</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;Losses&#39;</span><span class="p">)[</span><span class="s1">&#39;tooltip&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;losses tooltip&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Set edge properties</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">set_edge_properties</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Show chart</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">filepath</span><span class="o">=</span><span class="sa">r</span><span class="s1">&#39;c://temp//treemap.html&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p class="rubric">References</p>
<ul class="simple">
<li><p>Mike Bostock; <a class="reference external" href="http://bl.ocks.org/mbostock/4063582">http://bl.ocks.org/mbostock/4063582</a></p></li>
<li><p><a class="reference external" href="https://d3blocks.github.io/d3blocks/pages/html/Treemap.html">https://d3blocks.github.io/d3blocks/pages/html/Treemap.html</a></p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="d3blocks.d3blocks.D3Blocks.vec2adjmat">
<em class="property"><span class="k"><span class="pre">static</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">vec2adjmat</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weight</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">symmetric</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aggfunc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'sum'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#d3blocks.d3blocks.D3Blocks.vec2adjmat" title="Link to this definition">ï</a></dt>
<dd><p>Convert source and target into adjacency matrix.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source</strong> (<em>list</em>) â The source node.</p></li>
<li><p><strong>target</strong> (<em>list</em>) â The target node.</p></li>
<li><p><strong>weight</strong> (<em>list</em><em> of </em><em>int</em>) â The Weights between the source-target values</p></li>
<li><p><strong>symmetric</strong> (<em>bool</em><em>, </em><em>optional</em>) â Make the adjacency matrix symmetric with the same number of rows as columns. The default is True.</p></li>
<li><p><strong>aggfunc</strong> (<em>str</em><em>, </em><em>optional</em>) â <dl class="simple">
<dt>Aggregate function in case multiple values exists for the same relationship.</dt><dd><ul>
<li><p>âsumâ (default)</p></li>
</ul>
</dd>
</dl>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>adjacency matrix.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Initialize</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span> <span class="o">=</span> <span class="n">D3Blocks</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Load example</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">d3</span><span class="o">.</span><span class="n">import_example</span><span class="p">(</span><span class="s1">&#39;energy&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Convert to adjmat</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">adjmat</span> <span class="o">=</span> <span class="n">d3</span><span class="o">.</span><span class="n">vec2adjmat</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;source&#39;</span><span class="p">],</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;target&#39;</span><span class="p">],</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;weight&#39;</span><span class="p">])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="d3blocks.d3blocks.D3Blocks.violin">
<span class="sig-name descname"><span class="pre">violin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_order</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">opacity</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.6</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stroke</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'#000000'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tooltip</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fontsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">12</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fontsize_axis</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">12</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cmap</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'inferno'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bins</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">50</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ylim</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[None,</span> <span class="pre">None]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'Violin</span> <span class="pre">-</span> <span class="pre">D3blocks'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filepath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'violin.html'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[None,</span> <span class="pre">None]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">showfig</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">notebook</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_button</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_html</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reset_properties</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#d3blocks.d3blocks.D3Blocks.violin" title="Link to this definition">ï</a></dt>
<dd><p>Violin block.</p>
<p>The Violin plot allows to visualize the distribution of a numeric variable for one or several groups.
It is an alternative to the boxplot and brings insights into large datasets where the boxplot could hide a part
of the information. The original javascript code is forked from D3.js graph gallery but brought alive by
Pythonizing the chart. Now it is possible to configure your charts for one or several groups, change colors,
add tooltips, customize the bin size, change figure size and store on a specified location. There are many
input parameters for the Violin plot that can help to create the most insightful figures.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>list</em><em> of </em><em>String</em><em> or </em><em>numpy array.</em>) â This 1d-vector contains the class labels for each datapoint in y.</p></li>
<li><p><strong>y</strong> (<em>list</em><em> of </em><em>float</em><em> or </em><em>numpy array.</em>) â This 1d-vector contains the values for the samples.</p></li>
<li><p><strong>size</strong> (<em>list/array</em><em> of </em><em>with same size as</em><em> (</em><em>x</em><em>,</em><em>y</em><em>)</em><em>. Can be</em><em> of </em><em>type str</em><em> or </em><em>int.</em>) â Size of the samples.</p></li>
<li><p><strong>color</strong> (<em>list/array</em><em> of </em><em>hex colors with same size as y</em>) â <ul>
<li><p>â#002147â : All dots/nodes are get the same hex color.</p></li>
<li><p>None: The colors are generated on value using the colormap specified in cmap.</p></li>
<li><p>[â#000000â, â#ffffffâ,â¦]: list/array of hex colors with same size as y.</p></li>
</ul>
</p></li>
<li><p><strong>x_order</strong> (<em>list</em><em> of </em><em>String</em><em> (</em><em>default: None</em><em>)</em>) â <dl class="simple">
<dt>The order of the class labels on the x-axis.</dt><dd><ul>
<li><p>[âsetosaâ, âversicolorâ, âvirginicaâ]</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>opacity</strong> (<em>float</em><em> or </em><em>list/array</em><em> [</em><em>0-1</em><em>] </em><em>(</em><em>default: 0.6</em><em>)</em>) â Opacity of the dot. Shoud be same size as (x,y)</p></li>
<li><p><strong>stroke</strong> (<em>list/array</em><em> of </em><em>hex colors with same size as</em><em> (</em><em>x</em><em>,</em><em>y</em><em>)</em>) â <dl class="simple">
<dt>Edgecolor of dot in hex colors.</dt><dd><ul>
<li><p>â#000000â : Edge colors are all black.</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>tooltip</strong> (<em>list</em><em> of </em><em>labels with same size as</em><em> (</em><em>x</em><em>,</em><em>y</em><em>)</em>) â labels of the samples.</p></li>
<li><p><strong>fontsize</strong> (<em>int</em><em> or </em><em>list</em><em> of </em><em>labels with the same size as</em><em> (</em><em>x</em><em>, </em><em>y</em><em>)</em><em>, </em><em>optional</em><em> (</em><em>default: 12</em><em>)</em>) â Text fontsize for the tooltip.</p></li>
<li><p><strong>fontsize_axis</strong> (<em>int</em><em>, </em><em>optional</em><em> (</em><em>default: 12</em><em>)</em>) â Text fontsize for the x-axis and y-axis.</p></li>
<li><p><strong>cmap</strong> (<em>String</em><em>, </em><em>(</em><em>default: 'inferno'</em><em>)</em>) â <dl class="simple">
<dt>All colors can be reversed with â_râ, e.g. âbinaryâ to âbinary_râ</dt><dd><ul>
<li><p>âtab20câ, âSet1â, âSet2â, ârainbowâ, âbwrâ, âbinaryâ, âseismicâ, âBluesâ, âRedsâ, âPastel1â, âPairedâ, âtwilightâ, âhsvâ</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>bins</strong> (<em>Int</em><em> (</em><em>default: 50</em><em>)</em>) â The bin size is the âresolutionâ of the violin plot.</p></li>
<li><p><strong>ylim</strong> (<em>tuple</em><em>, </em><em>(</em><em>default:</em><em> [</em><em>None</em><em>, </em><em>None</em><em>]</em><em>)</em>) â <dl class="simple">
<dt>Limit the width of the y-axis [min, max].</dt><dd><ul>
<li><p>[None, None] : The width is determined based on the min-max value range.</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>title</strong> (<em>String</em><em>, </em><em>(</em><em>default: None</em><em>)</em>) â <dl class="simple">
<dt>Title of the figure.</dt><dd><ul>
<li><p>âViolin Chartâ</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>filepath</strong> (<em>String</em><em>, </em><em>(</em><em>Default: user temp directory</em><em>)</em>) â <dl class="simple">
<dt>File path to save the output.</dt><dd><ul>
<li><p>Temporarily path: âViolin.htmlâ</p></li>
<li><p>Relative path: â./Violin.htmlâ</p></li>
<li><p>Absolute path: âc://temp//Violin.htmlâ</p></li>
<li><p>None: Return HTML content.</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>figsize</strong> (<em>tuple</em>) â <dl class="simple">
<dt>Size of the figure in the browser, [width, height].</dt><dd><ul>
<li><p>[None, None]: The width is auto-determined based on the #labels.</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>showfig</strong> (<em>bool</em><em>, </em><em>(</em><em>default: True</em><em>)</em>) â <ul>
<li><p>True: Open browser-window.</p></li>
<li><p>False: Do not open browser-window.</p></li>
</ul>
</p></li>
<li><p><strong>overwrite</strong> (<em>bool</em><em>, </em><em>(</em><em>default: True</em><em>)</em>) â <ul>
<li><p>True: Overwrite the html in the destination directory.</p></li>
<li><p>False: Do not overwrite destination file but show warning instead.</p></li>
</ul>
</p></li>
<li><p><strong>notebook</strong> (<em>bool</em>) â <ul>
<li><p>True: Use IPython to show chart in notebook.</p></li>
<li><p>False: Do not use IPython.</p></li>
</ul>
</p></li>
<li><p><strong>save_button</strong> (<em>bool</em><em>, </em><em>(</em><em>default: True</em><em>)</em>) â <ul>
<li><p>True: Save button is shown in the HTML to save the image in svg.</p></li>
<li><p>False: No save button is shown in the HTML.</p></li>
</ul>
</p></li>
<li><p><strong>return_html</strong> (<em>bool</em><em>, </em><em>(</em><em>default: False</em><em>)</em>) â <ul>
<li><p>True: Return html</p></li>
<li><p>False: Nothing is returned</p></li>
</ul>
</p></li>
<li><p><strong>reset_properties</strong> (<em>bool</em><em>, </em><em>(</em><em>default: True</em><em>)</em>) â <ul>
<li><p>True: Reset the node_properties at each run.</p></li>
<li><p>False: Use the d3.node_properties()</p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>d3.node_properties</strong> â Contains properties of the unique input label/nodes/samples.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>DataFrame of dictionary</p>
</dd>
</dl>
<dl class="simple">
<dt>d3.edge_properties: DataFrame of dictionary</dt><dd><p>Contains properties of the unique input edges/links.</p>
</dd>
<dt>d3.config: dictionary</dt><dd><p>Contains configuration properties.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Load d3blocks</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">d3blocks</span><span class="w"> </span><span class="kn">import</span> <span class="n">D3Blocks</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Initialize</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span> <span class="o">=</span> <span class="n">D3Blocks</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Import example dataset</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">d3</span><span class="o">.</span><span class="n">import_example</span><span class="p">(</span><span class="s1">&#39;cancer&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Set some input variables.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tooltip</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;labx&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span> <span class="o">+</span> <span class="s1">&#39; &lt;br /&gt; Survival: &#39;</span> <span class="o">+</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;survival_months&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span><span class="o">.</span><span class="n">values</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fontsize</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;age&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># fontsize = 16  # Set one fontsize for all nodes</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create the chart</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">violin</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;labx&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;age&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="n">fontsize</span><span class="p">,</span> <span class="n">tooltip</span><span class="o">=</span><span class="n">tooltip</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;survival_months&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="o">/</span><span class="mi">10</span><span class="p">,</span> <span class="n">x_order</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;acc&#39;</span><span class="p">,</span><span class="s1">&#39;kich&#39;</span><span class="p">,</span> <span class="s1">&#39;brca&#39;</span><span class="p">,</span><span class="s1">&#39;lgg&#39;</span><span class="p">,</span><span class="s1">&#39;blca&#39;</span><span class="p">,</span><span class="s1">&#39;coad&#39;</span><span class="p">,</span><span class="s1">&#39;ov&#39;</span><span class="p">],</span> <span class="n">filepath</span><span class="o">=</span><span class="s1">&#39;violine.html&#39;</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">[</span><span class="mi">900</span><span class="p">,</span> <span class="kc">None</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
</pre></div>
</div>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Load d3blocks</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">d3blocks</span><span class="w"> </span><span class="kn">import</span> <span class="n">D3Blocks</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Initialize for the Violin chart and set output to Frame.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span> <span class="o">=</span> <span class="n">D3Blocks</span><span class="p">(</span><span class="n">chart</span><span class="o">=</span><span class="s1">&#39;Violin&#39;</span><span class="p">,</span> <span class="n">frame</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Import example dataset</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">d3</span><span class="o">.</span><span class="n">import_example</span><span class="p">(</span><span class="s1">&#39;cancer&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Set the properties by providing the labels</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">set_edge_properties</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;labx&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;age&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;survival_months&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="o">/</span><span class="mi">10</span><span class="p">,</span> <span class="n">x_order</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;acc&#39;</span><span class="p">,</span><span class="s1">&#39;kich&#39;</span><span class="p">,</span> <span class="s1">&#39;brca&#39;</span><span class="p">,</span><span class="s1">&#39;lgg&#39;</span><span class="p">,</span><span class="s1">&#39;blca&#39;</span><span class="p">,</span><span class="s1">&#39;coad&#39;</span><span class="p">,</span><span class="s1">&#39;ov&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Set specific node properties.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">edge_properties</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="s1">&#39;size&#39;</span><span class="p">]</span><span class="o">=</span><span class="mi">50</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">edge_properties</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="s1">&#39;color&#39;</span><span class="p">]</span><span class="o">=</span><span class="s1">&#39;#000000&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">edge_properties</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="s1">&#39;tooltip&#39;</span><span class="p">]</span><span class="o">=</span><span class="s1">&#39;I am adjusted!&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">edge_properties</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="s1">&#39;fontsize&#39;</span><span class="p">]</span><span class="o">=</span><span class="mi">30</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Configuration can be changed too.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">d3</span><span class="o">.</span><span class="n">config</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Show the chart</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p class="rubric">References</p>
<ul class="simple">
<li><p><a class="reference external" href="https://d3blocks.github.io/d3blocks/pages/html/Violin.html">https://d3blocks.github.io/d3blocks/pages/html/Violin.html</a></p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="d3blocks.d3blocks.disable_tqdm">
<span class="sig-prename descclassname"><span class="pre">d3blocks.d3blocks.</span></span><span class="sig-name descname"><span class="pre">disable_tqdm</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#d3blocks.d3blocks.disable_tqdm" title="Link to this definition">ï</a></dt>
<dd><p>Set the logger for verbosity messages.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="d3blocks.d3blocks.get_logger">
<span class="sig-prename descclassname"><span class="pre">d3blocks.d3blocks.</span></span><span class="sig-name descname"><span class="pre">get_logger</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#d3blocks.d3blocks.get_logger" title="Link to this definition">ï</a></dt>
<dd><p>Get logger status.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="d3blocks.d3blocks.random_date">
<span class="sig-prename descclassname"><span class="pre">d3blocks.d3blocks.</span></span><span class="sig-name descname"><span class="pre">random_date</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prop</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dt_format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'%d-%m-%Y</span> <span class="pre">%H:%M:%S'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strftime</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#d3blocks.d3blocks.random_date" title="Link to this definition">ï</a></dt>
<dd><p>Create random dateTimes.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="d3blocks.d3blocks.set_chart_func">
<span class="sig-prename descclassname"><span class="pre">d3blocks.d3blocks.</span></span><span class="sig-name descname"><span class="pre">set_chart_func</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">chart</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#d3blocks.d3blocks.set_chart_func" title="Link to this definition">ï</a></dt>
<dd><p>Library compatibility checks.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>chart function as Object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="d3blocks.d3blocks.set_logger">
<span class="sig-prename descclassname"><span class="pre">d3blocks.d3blocks.</span></span><span class="sig-name descname"><span class="pre">set_logger</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">verbose:</span> <span class="pre">[&lt;class</span> <span class="pre">'str'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">&lt;class</span> <span class="pre">'int'&gt;]</span> <span class="pre">=</span> <span class="pre">'info'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_status:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#d3blocks.d3blocks.set_logger" title="Link to this definition">ï</a></dt>
<dd><p>Set the logger for verbosity messages.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>verbose</strong> (<em>[</em><em>str</em><em>, </em><em>int</em><em>]</em><em>, </em><em>default is 'info'</em><em> or </em><em>20</em>) â <dl class="simple">
<dt>Set the verbose messages using string or integer values.</dt><dd><ul class="simple">
<li><p>0, 60, None, âsilentâ, âoffâ, ânoâ]: No message.</p></li>
<li><p>10, âdebugâ: Messages from debug level and higher.</p></li>
<li><p>20, âinfoâ: Messages from info level and higher.</p></li>
<li><p>30, âwarningâ: Messages from warning level and higher.</p></li>
<li><p>50, âcriticalâ: Messages from critical level and higher.</p></li>
</ul>
</dd>
</dl>
</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Set the logger to warning</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">set_logger</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="s1">&#39;warning&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Test with different messages</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Hello debug&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Hello info&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Hello warning&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Hello critical&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="d3blocks.d3blocks.str_time_prop">
<span class="sig-prename descclassname"><span class="pre">d3blocks.d3blocks.</span></span><span class="sig-name descname"><span class="pre">str_time_prop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prop</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dt_format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'%d-%m-%Y</span> <span class="pre">%H:%M:%S'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strftime</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#d3blocks.d3blocks.str_time_prop" title="Link to this definition">ï</a></dt>
<dd><p>Get a time at a proportion of a range of two formatted times.</p>
<p>start and end should be strings specifying times formatted in the
given format (strftime-style), giving an interval [start, end].
prop specifies how a proportion of the interval to be taken after
start.  The returned time will be in the specified format.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="d3blocks.d3blocks.unzip">
<span class="sig-prename descclassname"><span class="pre">d3blocks.d3blocks.</span></span><span class="sig-name descname"><span class="pre">unzip</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path_to_zip</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ext</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#d3blocks.d3blocks.unzip" title="Link to this definition">ï</a></dt>
<dd><p>Unzip files.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>path_to_zip</strong> (<em>str</em>) â Path of the zip file.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>getpath</strong> â Path containing the unzipped files.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="d3blocks.d3blocks.wget">
<span class="sig-prename descclassname"><span class="pre">d3blocks.d3blocks.</span></span><span class="sig-name descname"><span class="pre">wget</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">writepath</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#d3blocks.d3blocks.wget" title="Link to this definition">ï</a></dt>
<dd><p>Retrieve file from url.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>url</strong> (<em>str.</em>) â Internet source.</p></li>
<li><p><strong>writepath</strong> (<em>str.</em>) â Directory to write the file.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None.</p>
</dd>
</dl>
</dd></dl>

<hr>
<center>
        <script async src="https://media.ethicalads.io/media/client/ethicalads.min.js"></script>
        <!-- Show an image ad -->
        <!-- <div data-ea-publisher="erdogantgithubio" data-ea-type="image"></div> -->
        <div data-ea-publisher="erdogantgithubio" data-ea-type="image" data-ea-style="stickybox"></div>
</center>
<hr></section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="Coding%20quality.html" class="btn btn-neutral float-left" title="Coding quality" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Erdogan Taskesen.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>